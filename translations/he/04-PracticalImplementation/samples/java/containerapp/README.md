<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5ea5e7582f70008ea9bec3b3820f20a",
  "translation_date": "2025-05-17T14:28:54+00:00",
  "source_file": "04-PracticalImplementation/samples/java/containerapp/README.md",
  "language_code": "he"
}
-->
## ארכיטקטורת מערכת

הפרויקט הזה מציג יישום אינטרנט שמשתמש בבדיקת בטיחות תוכן לפני העברת הנחיות משתמש לשירות מחשבון דרך פרוטוקול הקשר מודל (MCP).

### איך זה עובד

1. **קלט משתמש**: המשתמש מזין הנחיית חישוב בממשק האינטרנט
2. **בדיקת בטיחות תוכן (קלט)**: ההנחיה נבדקת על ידי Azure Content Safety API
3. **החלטת בטיחות (קלט)**:
   - אם התוכן בטוח (חומרה < 2 בכל הקטגוריות), הוא עובר למחשבון
   - אם התוכן מסומן כפוטנציאלית מזיק, התהליך נעצר ומחזיר אזהרה
4. **שילוב מחשבון**: תוכן בטוח מעובד על ידי LangChain4j, שמתקשר עם שרת מחשבון MCP
5. **בדיקת בטיחות תוכן (פלט)**: תגובת הבוט נבדקת על ידי Azure Content Safety API
6. **החלטת בטיחות (פלט)**:
   - אם תגובת הבוט בטוחה, היא מוצגת למשתמש
   - אם תגובת הבוט מסומנת כפוטנציאלית מזיקה, היא מוחלפת באזהרה
7. **תגובה**: תוצאות (אם בטוחות) מוצגות למשתמש יחד עם שני ניתוחי הבטיחות

## שימוש בפרוטוקול הקשר מודל (MCP) עם שירותי מחשבון

הפרויקט הזה מציג כיצד להשתמש בפרוטוקול הקשר מודל (MCP) כדי לקרוא לשירותי מחשבון MCP מ-LangChain4j. היישום משתמש בשרת MCP מקומי שרץ על פורט 8080 כדי לספק פעולות מחשבון.

### הגדרת שירות בטיחות תוכן של Azure

לפני השימוש בתכונות בטיחות התוכן, יש ליצור משאב שירות בטיחות תוכן של Azure:

1. התחבר ל-[Azure Portal](https://portal.azure.com)
2. לחץ על "Create a resource" וחפש "Content Safety"
3. בחר "Content Safety" ולחץ על "Create"
4. הכנס שם ייחודי למשאב שלך
5. בחר את המנוי וקבוצת המשאבים שלך (או צור חדשה)
6. בחר אזור נתמך (בדוק [זמינות אזור](https://azure.microsoft.com/en-us/global-infrastructure/services/?products=cognitive-services) לפרטים)
7. בחר שכבת מחיר מתאימה
8. לחץ על "Create" כדי לפרוס את המשאב
9. לאחר שהפריסה הושלמה, לחץ על "Go to resource"
10. בפאנל השמאלי, תחת "Resource Management", בחר "Keys and Endpoint"
11. העתק את אחד מהמפתחות ואת כתובת ה-URL של נקודת הקצה לשימוש בשלב הבא

### הגדרת משתני סביבה

הגדר את משתנה הסביבה `GITHUB_TOKEN` לאימות מודלים של GitHub:
```sh
export GITHUB_TOKEN=<your_github_token>
```

לתכונות בטיחות תוכן, הגדר:
```sh
export CONTENT_SAFETY_ENDPOINT=<your_content_safety_endpoint>
export CONTENT_SAFETY_KEY=<your_content_safety_key>
```

משתני סביבה אלה משמשים את היישום לאימות עם שירות בטיחות תוכן של Azure. אם משתנים אלה לא מוגדרים, היישום ישתמש בערכי דמה למטרות הדגמה, אך תכונות בטיחות התוכן לא יעבדו כראוי.

### התחלת שרת מחשבון MCP

לפני הפעלת הלקוח, יש להתחיל את שרת מחשבון MCP במצב SSE על localhost:8080.

## תיאור הפרויקט

הפרויקט הזה מציג את שילוב פרוטוקול הקשר מודל (MCP) עם LangChain4j כדי לקרוא לשירותי מחשבון. תכונות עיקריות כוללות:

- שימוש ב-MCP כדי להתחבר לשירות מחשבון לפעולות מתמטיות בסיסיות
- בדיקת בטיחות תוכן בשתי שכבות על הנחיות משתמש ותגובות בוט
- שילוב עם מודל gpt-4.1-nano של GitHub דרך LangChain4j
- שימוש באירועים שנשלחים על ידי שרת (SSE) לתעבורת MCP

## שילוב בטיחות תוכן

הפרויקט כולל תכונות בטיחות תוכן מקיפות כדי להבטיח שהן קלטי משתמש והן תגובות מערכת יהיו חופשיים מתוכן מזיק:

1. **בדיקת קלט**: כל הנחיות המשתמש נבדקות עבור קטגוריות תוכן מזיקות כמו דיבור שנאה, אלימות, פגיעה עצמית ותוכן מיני לפני העיבוד.

2. **בדיקת פלט**: גם כאשר משתמשים במודלים פוטנציאליים לא מצונזרים, המערכת בודקת את כל התגובות שנוצרות דרך אותם מסנני בטיחות תוכן לפני הצגתן למשתמש.

גישה בשתי שכבות זו מבטיחה שהמערכת נשארת בטוחה ללא קשר לאיזה מודל AI משתמשים בו, ומגנה על משתמשים הן מקלטים מזיקים והן מתגובות שנוצרות על ידי AI שעלולות להיות בעייתיות.

## לקוח אינטרנט

היישום כולל ממשק אינטרנט ידידותי למשתמש שמאפשר למשתמשים לתקשר עם מערכת מחשבון בטיחות תוכן:

### תכונות ממשק אינטרנט

- טופס פשוט ואינטואיטיבי להזנת הנחיות חישוב
- אימות בטיחות תוכן בשתי שכבות (קלט ופלט)
- משוב בזמן אמת על בטיחות הנחיה ותגובה
- אינדיקטורים בטיחותיים מקודדי צבע לפירוש קל
- עיצוב נקי ומגיב שמתאים למגוון מכשירים
- דוגמאות להנחיות בטוחות כדי להדריך משתמשים

### שימוש בלקוח אינטרנט

1. התחל את היישום:
   ```sh
   mvn spring-boot:run
   ```

2. פתח את הדפדפן שלך ונווט ל-`http://localhost:8087`

3. הזן הנחיית חישוב באזור הטקסט המסופק (לדוגמה, "חשב את הסכום של 24.5 ו-17.3")

4. לחץ על "Submit" כדי לעבד את הבקשה שלך

5. צפה בתוצאות, שיכללו:
   - ניתוח בטיחות תוכן של ההנחיה שלך
   - התוצאה המחושבת (אם ההנחיה הייתה בטוחה)
   - ניתוח בטיחות תוכן של תגובת הבוט
   - כל אזהרות בטיחות אם הקלט או הפלט סומנו

הלקוח אינטרנט מטפל אוטומטית בשני תהליכי אימות בטיחות תוכן, ומבטיח שכל האינטראקציות יהיו בטוחות ומתאימות ללא קשר לאיזה מודל AI משתמשים בו.

**כתב ויתור**:  
מסמך זה תורגם באמצעות שירות תרגום AI [Co-op Translator](https://github.com/Azure/co-op-translator). בעוד אנו שואפים לדיוק, אנא היו מודעים לכך שתרגומים אוטומטיים עשויים להכיל שגיאות או אי דיוקים. המסמך המקורי בשפתו המקורית צריך להיחשב כמקור הסמכותי. עבור מידע קריטי, מומלץ להשתמש בתרגום מקצועי אנושי. אנו לא נושאים באחריות לכל אי הבנות או פרשנויות שגויות הנובעות משימוש בתרגום זה.