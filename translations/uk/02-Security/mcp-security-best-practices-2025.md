<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c3f4ea5732d64bf965e8aa2907759709",
  "translation_date": "2025-07-17T13:48:28+00:00",
  "source_file": "02-Security/mcp-security-best-practices-2025.md",
  "language_code": "uk"
}
-->
# MCP Security Best Practices - оновлення липень 2025

## Комплексні рекомендації з безпеки для впроваджень MCP

Працюючи з серверами MCP, дотримуйтесь цих рекомендацій з безпеки, щоб захистити свої дані, інфраструктуру та користувачів:

1. **Перевірка вхідних даних**: Завжди перевіряйте та очищуйте вхідні дані, щоб уникнути ін’єкційних атак і проблем із confused deputy.
   - Впроваджуйте сувору перевірку для всіх параметрів інструментів
   - Використовуйте валідацію за схемою, щоб переконатися, що запити відповідають очікуваним форматам
   - Фільтруйте потенційно шкідливий контент перед обробкою

2. **Контроль доступу**: Забезпечте належну автентифікацію та авторизацію для вашого MCP сервера з детальним розподілом прав.
   - Використовуйте OAuth 2.0 з перевіреними провайдерами ідентичності, такими як Microsoft Entra ID
   - Впроваджуйте контроль доступу на основі ролей (RBAC) для інструментів MCP
   - Ніколи не створюйте власну автентифікацію, якщо існують перевірені рішення

3. **Безпечне спілкування**: Використовуйте HTTPS/TLS для всіх комунікацій із сервером MCP і розгляньте додаткове шифрування для конфіденційних даних.
   - Налаштуйте TLS 1.3, де це можливо
   - Впровадьте pinning сертифікатів для критичних з’єднань
   - Регулярно оновлюйте сертифікати та перевіряйте їх дійсність

4. **Обмеження частоти запитів**: Впровадьте обмеження частоти, щоб запобігти зловживанням, DoS-атакам і контролювати споживання ресурсів.
   - Встановлюйте відповідні ліміти запитів, виходячи з очікуваних сценаріїв використання
   - Впроваджуйте поетапні реакції на надмірну кількість запитів
   - Розгляньте індивідуальні ліміти для користувачів залежно від статусу автентифікації

5. **Логування та моніторинг**: Слідкуйте за сервером MCP на предмет підозрілої активності та впроваджуйте повні аудиторські журнали.
   - Логуйте всі спроби автентифікації та виклики інструментів
   - Впроваджуйте оповіщення в реальному часі про підозрілі патерни
   - Забезпечте безпечне зберігання логів, щоб уникнути їх підробки

6. **Безпечне зберігання**: Захищайте конфіденційні дані та облікові дані за допомогою належного шифрування у стані спокою.
   - Використовуйте сховища ключів або безпечні сховища облікових даних для всіх секретів
   - Впроваджуйте шифрування на рівні полів для конфіденційних даних
   - Регулярно оновлюйте ключі шифрування та облікові дані

7. **Управління токенами**: Запобігайте вразливостям, пов’язаним із передачею токенів, перевіряючи та очищуючи всі вхідні та вихідні дані моделей.
   - Впроваджуйте перевірку токенів на основі аудиторії (audience claims)
   - Ніколи не приймайте токени, які не були явно видані для вашого MCP сервера
   - Забезпечте правильне управління терміном дії токенів та їх оновлення

8. **Управління сесіями**: Впроваджуйте безпечне керування сесіями, щоб запобігти викраденню та фіксації сесій.
   - Використовуйте безпечні, недетерміновані ідентифікатори сесій
   - Прив’язуйте сесії до інформації, специфічної для користувача
   - Забезпечте правильне завершення та оновлення сесій

9. **Ізоляція виконання інструментів**: Запускайте виконання інструментів в ізольованих середовищах, щоб запобігти поширенню у разі компрометації.
   - Впроваджуйте ізоляцію контейнерів для виконання інструментів
   - Застосовуйте обмеження ресурсів, щоб уникнути атак на виснаження ресурсів
   - Використовуйте окремі контексти виконання для різних доменів безпеки

10. **Регулярні аудити безпеки**: Проводьте періодичні перевірки безпеки ваших впроваджень MCP та залежностей.
    - Плануйте регулярне тестування на проникнення
    - Використовуйте автоматизовані сканери для виявлення вразливостей
    - Оновлюйте залежності, щоб усувати відомі проблеми безпеки

11. **Фільтрація безпеки контенту**: Впроваджуйте фільтри безпеки контенту для вхідних і вихідних даних.
    - Використовуйте Azure Content Safety або подібні сервіси для виявлення шкідливого контенту
    - Впроваджуйте техніки захисту від ін’єкції підказок (prompt injection)
    - Перевіряйте згенерований контент на можливе витікання конфіденційних даних

12. **Безпека ланцюга постачання**: Перевіряйте цілісність і автентичність усіх компонентів у вашому AI-ланцюгу постачання.
    - Використовуйте підписані пакети та перевіряйте підписи
    - Впроваджуйте аналіз bill of materials (SBOM)
    - Слідкуйте за шкідливими оновленнями залежностей

13. **Захист визначень інструментів**: Запобігайте отруєнню інструментів, захищаючи їх визначення та метадані.
    - Перевіряйте визначення інструментів перед використанням
    - Слідкуйте за несподіваними змінами метаданих інструментів
    - Впроваджуйте перевірки цілісності визначень інструментів

14. **Моніторинг динамічного виконання**: Слідкуйте за поведінкою MCP серверів і інструментів під час роботи.
    - Впроваджуйте поведінковий аналіз для виявлення аномалій
    - Налаштовуйте оповіщення про несподівані патерни виконання
    - Використовуйте техніки runtime application self-protection (RASP)

15. **Принцип найменших привілеїв**: Забезпечте роботу MCP серверів і інструментів з мінімально необхідними правами.
    - Надавайте лише ті права, які потрібні для конкретної операції
    - Регулярно переглядайте та аудитуйте використання прав
    - Впроваджуйте доступ за принципом just-in-time для адміністративних функцій

**Відмова від відповідальності**:  
Цей документ було перекладено за допомогою сервісу автоматичного перекладу [Co-op Translator](https://github.com/Azure/co-op-translator). Хоча ми прагнемо до точності, будь ласка, майте на увазі, що автоматичні переклади можуть містити помилки або неточності. Оригінальний документ рідною мовою слід вважати авторитетним джерелом. Для критично важливої інформації рекомендується звертатися до професійного людського перекладу. Ми не несемо відповідальності за будь-які непорозуміння або неправильні тлумачення, що виникли внаслідок використання цього перекладу.