<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "e5ea5e7582f70008ea9bec3b3820f20a",
  "translation_date": "2025-05-17T14:26:43+00:00",
  "source_file": "04-PracticalImplementation/samples/java/containerapp/README.md",
  "language_code": "el"
}
-->
## Αρχιτεκτονική Συστήματος

Αυτό το έργο παρουσιάζει μια εφαρμογή web που χρησιμοποιεί έλεγχο ασφάλειας περιεχομένου πριν περάσει τα αιτήματα χρηστών σε μια υπηρεσία αριθμομηχανής μέσω του Model Context Protocol (MCP).

### Πώς Λειτουργεί

1. **Εισαγωγή Χρήστη**: Ο χρήστης εισάγει ένα αίτημα υπολογισμού στη διεπαφή web.
2. **Έλεγχος Ασφάλειας Περιεχομένου (Εισαγωγή)**: Το αίτημα αναλύεται από το Azure Content Safety API.
3. **Απόφαση Ασφάλειας (Εισαγωγή)**:
   - Αν το περιεχόμενο είναι ασφαλές (σοβαρότητα < 2 σε όλες τις κατηγορίες), προχωράει στην αριθμομηχανή.
   - Αν το περιεχόμενο θεωρηθεί πιθανώς επιβλαβές, η διαδικασία σταματά και επιστρέφει μια προειδοποίηση.
4. **Ενσωμάτωση Αριθμομηχανής**: Το ασφαλές περιεχόμενο επεξεργάζεται από το LangChain4j, το οποίο επικοινωνεί με τον MCP αριθμομηχανή.
5. **Έλεγχος Ασφάλειας Περιεχομένου (Έξοδος)**: Η απάντηση του bot αναλύεται από το Azure Content Safety API.
6. **Απόφαση Ασφάλειας (Έξοδος)**:
   - Αν η απάντηση του bot είναι ασφαλής, εμφανίζεται στον χρήστη.
   - Αν η απάντηση του bot θεωρηθεί πιθανώς επιβλαβής, αντικαθίσταται με μια προειδοποίηση.
7. **Απάντηση**: Τα αποτελέσματα (αν είναι ασφαλή) εμφανίζονται στον χρήστη μαζί με τις αναλύσεις ασφάλειας.

## Χρήση του Model Context Protocol (MCP) με Υπηρεσίες Αριθμομηχανής

Αυτό το έργο δείχνει πώς να χρησιμοποιήσετε το Model Context Protocol (MCP) για να καλέσετε υπηρεσίες MCP αριθμομηχανής από το LangChain4j. Η υλοποίηση χρησιμοποιεί έναν τοπικό MCP server που τρέχει στη θύρα 8080 για να παρέχει λειτουργίες αριθμομηχανής.

### Ρύθμιση Υπηρεσίας Ασφάλειας Περιεχομένου Azure

Πριν χρησιμοποιήσετε τις λειτουργίες ασφάλειας περιεχομένου, πρέπει να δημιουργήσετε έναν πόρο υπηρεσίας ασφάλειας περιεχομένου Azure:

1. Συνδεθείτε στο [Azure Portal](https://portal.azure.com)
2. Κάντε κλικ στο "Create a resource" και αναζητήστε το "Content Safety"
3. Επιλέξτε "Content Safety" και κάντε κλικ στο "Create"
4. Εισάγετε ένα μοναδικό όνομα για τον πόρο σας
5. Επιλέξτε τη συνδρομή και την ομάδα πόρων σας (ή δημιουργήστε μια νέα)
6. Επιλέξτε μια υποστηριζόμενη περιοχή (ελέγξτε τη [Διαθεσιμότητα περιοχών](https://azure.microsoft.com/en-us/global-infrastructure/services/?products=cognitive-services) για λεπτομέρειες)
7. Επιλέξτε ένα κατάλληλο επίπεδο τιμολόγησης
8. Κάντε κλικ στο "Create" για να αναπτύξετε τον πόρο
9. Μόλις ολοκληρωθεί η ανάπτυξη, κάντε κλικ στο "Go to resource"
10. Στο αριστερό πάνελ, στην "Διαχείριση πόρων", επιλέξτε "Keys and Endpoint"
11. Αντιγράψτε οποιοδήποτε από τα κλειδιά και το URL του endpoint για χρήση στο επόμενο βήμα

### Ρύθμιση Μεταβλητών Περιβάλλοντος

Ορίστε τη μεταβλητή `GITHUB_TOKEN` για την αυθεντικοποίηση μοντέλων GitHub:
```sh
export GITHUB_TOKEN=<your_github_token>
```

Για τις λειτουργίες ασφάλειας περιεχομένου, ορίστε:
```sh
export CONTENT_SAFETY_ENDPOINT=<your_content_safety_endpoint>
export CONTENT_SAFETY_KEY=<your_content_safety_key>
```

Αυτές οι μεταβλητές περιβάλλοντος χρησιμοποιούνται από την εφαρμογή για την αυθεντικοποίηση με την υπηρεσία ασφάλειας περιεχομένου Azure. Αν αυτές οι μεταβλητές δεν οριστούν, η εφαρμογή θα χρησιμοποιήσει τιμές placeholder για σκοπούς επίδειξης, αλλά οι λειτουργίες ασφάλειας περιεχομένου δεν θα λειτουργήσουν σωστά.

### Εκκίνηση του MCP Server Αριθμομηχανής

Πριν τρέξετε τον πελάτη, πρέπει να ξεκινήσετε τον MCP server αριθμομηχανής σε λειτουργία SSE στο localhost:8080.

## Περιγραφή Έργου

Αυτό το έργο δείχνει την ενσωμάτωση του Model Context Protocol (MCP) με το LangChain4j για την κλήση υπηρεσιών αριθμομηχανής. Τα βασικά χαρακτηριστικά περιλαμβάνουν:

- Χρήση MCP για σύνδεση με υπηρεσία αριθμομηχανής για βασικές μαθηματικές πράξεις
- Έλεγχος ασφάλειας περιεχομένου διπλής στρώσης τόσο για αιτήματα χρηστών όσο και για απαντήσεις bot
- Ενσωμάτωση με το μοντέλο gpt-4.1-nano του GitHub μέσω του LangChain4j
- Χρήση Server-Sent Events (SSE) για τη μεταφορά MCP

## Ενσωμάτωση Ασφάλειας Περιεχομένου

Το έργο περιλαμβάνει ολοκληρωμένες λειτουργίες ασφάλειας περιεχομένου για να εξασφαλίσει ότι τόσο οι εισαγωγές των χρηστών όσο και οι απαντήσεις του συστήματος είναι απαλλαγμένες από επιβλαβές περιεχόμενο:

1. **Έλεγχος Εισαγωγής**: Όλα τα αιτήματα χρηστών αναλύονται για κατηγορίες επιβλαβούς περιεχομένου όπως λόγος μίσους, βία, αυτοτραυματισμός και σεξουαλικό περιεχόμενο πριν την επεξεργασία.

2. **Έλεγχος Εξόδου**: Ακόμη και όταν χρησιμοποιούνται πιθανώς μη λογοκριμένα μοντέλα, το σύστημα ελέγχει όλες τις παραγόμενες απαντήσεις μέσω των ίδιων φίλτρων ασφάλειας περιεχομένου πριν τις εμφανίσει στον χρήστη.

Αυτή η προσέγγιση διπλής στρώσης εξασφαλίζει ότι το σύστημα παραμένει ασφαλές ανεξάρτητα από το ποιο μοντέλο AI χρησιμοποιείται, προστατεύοντας τους χρήστες τόσο από επιβλαβείς εισαγωγές όσο και από πιθανώς προβληματικές απαντήσεις που παράγονται από το AI.

## Πελάτης Web

Η εφαρμογή περιλαμβάνει μια φιλική προς τον χρήστη διεπαφή web που επιτρέπει στους χρήστες να αλληλεπιδρούν με το σύστημα Ασφάλειας Περιεχομένου Αριθμομηχανής:

### Χαρακτηριστικά Διεπαφής Web

- Απλή, κατανοητή φόρμα για την εισαγωγή αιτημάτων υπολογισμού
- Έλεγχος ασφάλειας περιεχομένου διπλής στρώσης (εισαγωγή και έξοδος)
- Άμεση ανατροφοδότηση σχετικά με την ασφάλεια του αιτήματος και της απάντησης
- Ένδειξεις ασφάλειας με χρώμα για εύκολη ερμηνεία
- Καθαρός, ευέλικτος σχεδιασμός που λειτουργεί σε διάφορες συσκευές
- Παράδειγμα ασφαλών αιτημάτων για καθοδήγηση των χρηστών

### Χρήση του Πελάτη Web

1. Ξεκινήστε την εφαρμογή:
   ```sh
   mvn spring-boot:run
   ```

2. Ανοίξτε τον περιηγητή σας και μεταβείτε στη διεύθυνση `http://localhost:8087`

3. Εισάγετε ένα αίτημα υπολογισμού στο παρεχόμενο πεδίο κειμένου (π.χ., "Υπολογίστε το άθροισμα του 24.5 και 17.3")

4. Κάντε κλικ στο "Υποβολή" για να επεξεργαστείτε το αίτημά σας

5. Δείτε τα αποτελέσματα, που θα περιλαμβάνουν:
   - Ανάλυση ασφάλειας περιεχομένου του αιτήματός σας
   - Το υπολογισμένο αποτέλεσμα (αν το αίτημα ήταν ασφαλές)
   - Ανάλυση ασφάλειας περιεχομένου της απάντησης του bot
   - Οποιαδήποτε προειδοποίηση ασφάλειας αν είτε η εισαγωγή είτε η έξοδος επισημάνθηκε

Ο πελάτης web διαχειρίζεται αυτόματα τις διαδικασίες επαλήθευσης ασφάλειας περιεχομένου, εξασφαλίζοντας ότι όλες οι αλληλεπιδράσεις είναι ασφαλείς και κατάλληλες ανεξάρτητα από το ποιο μοντέλο AI χρησιμοποιείται.

Αποποίηση ευθυνών:  
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία AI μετάφρασης [Co-op Translator](https://github.com/Azure/co-op-translator). Παρόλο που επιδιώκουμε την ακρίβεια, παρακαλούμε να γνωρίζετε ότι οι αυτοματοποιημένες μεταφράσεις μπορεί να περιέχουν λάθη ή ανακρίβειες. Το αρχικό έγγραφο στη μητρική του γλώσσα πρέπει να θεωρείται η αυθεντική πηγή. Για κρίσιμες πληροφορίες, συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή παρερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.