<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "f00aedb7b1d11b7eaacb0618d8791c65",
  "translation_date": "2025-05-29T23:19:12+00:00",
  "source_file": "02-Security/README.md",
  "language_code": "el"
}
-->
# Καλύτερες Πρακτικές Ασφαλείας

Η υιοθέτηση του Model Context Protocol (MCP) φέρνει ισχυρές νέες δυνατότητες στις εφαρμογές με τεχνητή νοημοσύνη, αλλά εισάγει επίσης μοναδικές προκλήσεις ασφάλειας που ξεπερνούν τους παραδοσιακούς κινδύνους λογισμικού. Εκτός από γνωστά ζητήματα όπως ο ασφαλής προγραμματισμός, η ελάχιστη απαραίτητη πρόσβαση και η ασφάλεια της αλυσίδας εφοδιασμού, το MCP και τα φορτία εργασίας AI αντιμετωπίζουν νέες απειλές όπως η έγχυση προτροπών, η δηλητηρίαση εργαλείων και η δυναμική τροποποίηση εργαλείων. Αυτοί οι κίνδυνοι μπορούν να οδηγήσουν σε διαρροή δεδομένων, παραβιάσεις ιδιωτικότητας και απρόβλεπτη συμπεριφορά συστήματος αν δεν διαχειριστούν σωστά.

Αυτό το μάθημα εξετάζει τους πιο σημαντικούς κινδύνους ασφάλειας που σχετίζονται με το MCP—συμπεριλαμβανομένης της πιστοποίησης, της εξουσιοδότησης, των υπερβολικών δικαιωμάτων, της έμμεσης έγχυσης προτροπών και των ευπαθειών στην αλυσίδα εφοδιασμού—και παρέχει πρακτικούς ελέγχους και βέλτιστες πρακτικές για την αντιμετώπισή τους. Θα μάθετε επίσης πώς να αξιοποιείτε λύσεις της Microsoft όπως τα Prompt Shields, το Azure Content Safety και το GitHub Advanced Security για να ενισχύσετε την υλοποίηση MCP σας. Με την κατανόηση και εφαρμογή αυτών των ελέγχων, μπορείτε να μειώσετε σημαντικά την πιθανότητα παραβίασης ασφάλειας και να διασφαλίσετε ότι τα συστήματα AI σας παραμένουν αξιόπιστα και ανθεκτικά.

# Στόχοι Μάθησης

Στο τέλος αυτού του μαθήματος, θα μπορείτε να:

- Αναγνωρίζετε και να εξηγείτε τους μοναδικούς κινδύνους ασφάλειας που εισάγει το Model Context Protocol (MCP), όπως η έγχυση προτροπών, η δηλητηρίαση εργαλείων, τα υπερβολικά δικαιώματα και οι ευπάθειες στην αλυσίδα εφοδιασμού.
- Περιγράφετε και εφαρμόζετε αποτελεσματικούς ελέγχους μετριασμού για τους κινδύνους ασφάλειας MCP, όπως η ισχυρή πιστοποίηση, η ελάχιστη απαραίτητη πρόσβαση, η ασφαλής διαχείριση διακριτικών και η επαλήθευση της αλυσίδας εφοδιασμού.
- Κατανοείτε και αξιοποιείτε λύσεις της Microsoft όπως τα Prompt Shields, το Azure Content Safety και το GitHub Advanced Security για την προστασία των φορτίων εργασίας MCP και AI.
- Αναγνωρίζετε τη σημασία της επικύρωσης των μεταδεδομένων εργαλείων, της παρακολούθησης δυναμικών αλλαγών και της άμυνας ενάντια σε επιθέσεις έμμεσης έγχυσης προτροπών.
- Ενσωματώνετε καθιερωμένες βέλτιστες πρακτικές ασφαλείας—όπως ο ασφαλής προγραμματισμός, η ενίσχυση των διακομιστών και η αρχιτεκτονική μηδενικής εμπιστοσύνης—στην υλοποίηση MCP σας για να μειώσετε την πιθανότητα και τον αντίκτυπο παραβιάσεων ασφάλειας.

# Έλεγχοι Ασφάλειας MCP

Οποιοδήποτε σύστημα έχει πρόσβαση σε σημαντικούς πόρους αντιμετωπίζει εγγενείς προκλήσεις ασφάλειας. Οι προκλήσεις αυτές μπορούν γενικά να αντιμετωπιστούν με τη σωστή εφαρμογή βασικών ελέγχων και εννοιών ασφάλειας. Καθώς το MCP είναι σχετικά νέο και η προδιαγραφή του εξελίσσεται γρήγορα, οι έλεγχοι ασφάλειας που περιλαμβάνει θα ωριμάσουν με τον χρόνο, επιτρέποντας καλύτερη ενσωμάτωση με τις εταιρικές και καθιερωμένες αρχιτεκτονικές και βέλτιστες πρακτικές ασφαλείας.

Έρευνα που δημοσιεύτηκε στην [Microsoft Digital Defense Report](https://aka.ms/mddr) αναφέρει ότι το 98% των αναφερόμενων παραβιάσεων θα μπορούσαν να είχαν αποτραπεί με αυστηρή υγιεινή ασφάλειας. Η καλύτερη προστασία ενάντια σε οποιοδήποτε είδος παραβίασης είναι η σωστή εφαρμογή βασικών πρακτικών ασφαλείας όπως η υγιεινή ασφάλειας, ο ασφαλής κώδικας και η ασφάλεια της αλυσίδας εφοδιασμού — αυτές οι δοκιμασμένες πρακτικές εξακολουθούν να έχουν τον μεγαλύτερο αντίκτυπο στη μείωση του κινδύνου.

Ας δούμε μερικούς τρόπους για να αρχίσετε να αντιμετωπίζετε τους κινδύνους ασφάλειας κατά την υιοθέτηση του MCP.

> **Note:** Οι παρακάτω πληροφορίες είναι σωστές έως τις **29 Μαΐου 2025**. Το πρωτόκολλο MCP εξελίσσεται συνεχώς, και μελλοντικές υλοποιήσεις μπορεί να εισάγουν νέα πρότυπα πιστοποίησης και ελέγχους. Για τις πιο πρόσφατες ενημερώσεις και οδηγίες, ανατρέξτε πάντα στην [Προδιαγραφή MCP](https://spec.modelcontextprotocol.io/) και το επίσημο [MCP GitHub repository](https://github.com/modelcontextprotocol) και στη [σελίδα βέλτιστων πρακτικών ασφάλειας](https://modelcontextprotocol.io/specification/draft/basic/security_best_practices).

### Διατύπωση Προβλήματος  
Η αρχική προδιαγραφή MCP υποθετόταν ότι οι προγραμματιστές θα έγραφαν το δικό τους διακομιστή πιστοποίησης. Αυτό απαιτούσε γνώση του OAuth και σχετικών περιορισμών ασφαλείας. Οι MCP servers λειτουργούσαν ως OAuth 2.0 Authorization Servers, διαχειριζόμενοι απευθείας την απαιτούμενη πιστοποίηση χρήστη αντί να την αναθέτουν σε εξωτερική υπηρεσία όπως το Microsoft Entra ID. Από τις **26 Απριλίου 2025**, μια ενημέρωση της προδιαγραφής MCP επιτρέπει στους MCP servers να αναθέτουν την πιστοποίηση χρήστη σε εξωτερική υπηρεσία.

### Κίνδυνοι
- Λανθασμένη διαμόρφωση της λογικής εξουσιοδότησης στον MCP server μπορεί να οδηγήσει σε έκθεση ευαίσθητων δεδομένων και σε εσφαλμένη εφαρμογή ελέγχων πρόσβασης.
- Κλοπή token OAuth στον τοπικό MCP server. Αν κλαπεί, το token μπορεί να χρησιμοποιηθεί για να προσποιηθεί ο επιτιθέμενος τον MCP server και να έχει πρόσβαση σε πόρους και δεδομένα της υπηρεσίας για την οποία προορίζεται το token.

#### Token Passthrough  
Η άμεση προώθηση token απαγορεύεται ρητά στην προδιαγραφή εξουσιοδότησης καθώς εισάγει αρκετούς κινδύνους ασφάλειας, όπως:

#### Παράκαμψη Ελέγχων Ασφαλείας  
Ο MCP Server ή οι downstream APIs μπορεί να εφαρμόζουν σημαντικούς ελέγχους ασφάλειας όπως περιορισμό ρυθμού, επικύρωση αιτήσεων ή παρακολούθηση κίνησης, που βασίζονται στο κοινό του token ή άλλους περιορισμούς διαπιστευτηρίων. Αν οι πελάτες μπορούν να αποκτήσουν και να χρησιμοποιήσουν tokens απευθείας με τα downstream APIs χωρίς ο MCP server να τα επικυρώνει σωστά ή να διασφαλίζει ότι τα tokens έχουν εκδοθεί για την κατάλληλη υπηρεσία, παρακάμπτουν αυτούς τους ελέγχους.

#### Ζητήματα Υπευθυνότητας και Καταγραφής  
Ο MCP Server δεν θα μπορεί να αναγνωρίσει ή να διακρίνει μεταξύ MCP Clients όταν οι πελάτες καλούν με access token που έχει εκδοθεί upstream και μπορεί να είναι αδιαφανές για τον MCP Server.  
Τα αρχεία καταγραφής του downstream Resource Server μπορεί να εμφανίζουν αιτήσεις που φαίνεται να προέρχονται από διαφορετική πηγή με διαφορετική ταυτότητα, αντί για τον MCP server που προωθεί τα tokens.  
Και οι δύο παράγοντες δυσκολεύουν την διερεύνηση περιστατικών, τον έλεγχο και την καταγραφή.  
Αν ο MCP Server προωθεί tokens χωρίς να επικυρώνει τα claims τους (π.χ. ρόλους, προνόμια ή κοινό) ή άλλα μεταδεδομένα, ένας κακόβουλος χρήστης που έχει κλέψει token μπορεί να χρησιμοποιήσει τον server ως μεσάζοντα για διαρροή δεδομένων.

#### Ζητήματα Ορίου Εμπιστοσύνης  
Ο downstream Resource Server εμπιστεύεται συγκεκριμένες οντότητες. Αυτή η εμπιστοσύνη μπορεί να βασίζεται σε υποθέσεις για την προέλευση ή τα πρότυπα συμπεριφοράς του πελάτη. Η παραβίαση αυτού του ορίου εμπιστοσύνης μπορεί να προκαλέσει απρόβλεπτα προβλήματα.  
Αν το token γίνει αποδεκτό από πολλαπλές υπηρεσίες χωρίς σωστή επικύρωση, ένας επιτιθέμενος που παραβιάζει μία υπηρεσία μπορεί να χρησιμοποιήσει το token για να αποκτήσει πρόσβαση σε άλλες συνδεδεμένες υπηρεσίες.

#### Κίνδυνος Μελλοντικής Συμβατότητας  
Ακόμα και αν ένας MCP Server ξεκινήσει σήμερα ως «καθαρός διαμεσολαβητής», μπορεί να χρειαστεί να προσθέσει ελέγχους ασφαλείας αργότερα. Η σωστή διαχωριστική χρήση του κοινού του token από την αρχή διευκολύνει την εξέλιξη του μοντέλου ασφάλειας.

### Μέτρα μετριασμού

**Οι MCP servers ΔΕΝ ΠΡΕΠΕΙ ΝΑ αποδέχονται tokens που δεν έχουν εκδοθεί ρητά για τον MCP server**

- **Αναθεώρηση και Ενίσχυση της Λογικής Εξουσιοδότησης:** Εξετάστε προσεκτικά την υλοποίηση εξουσιοδότησης του MCP server σας ώστε να διασφαλίσετε ότι μόνο οι προοριζόμενοι χρήστες και πελάτες έχουν πρόσβαση σε ευαίσθητους πόρους. Για πρακτική καθοδήγηση, δείτε [Azure API Management Your Auth Gateway For MCP Servers | Microsoft Community Hub](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690) και [Using Microsoft Entra ID To Authenticate With MCP Servers Via Sessions - Den Delimarsky](https://den.dev/blog/mcp-server-auth-entra-id-session/).
- **Επιβολή Ασφαλών Πρακτικών Token:** Ακολουθήστε τις [βέλτιστες πρακτικές της Microsoft για επικύρωση και διάρκεια ζωής token](https://learn.microsoft.com/en-us/entra/identity-platform/access-tokens) για να αποτρέψετε την κακή χρήση των access tokens και να μειώσετε τον κίνδυνο επαναχρησιμοποίησης ή κλοπής token.
- **Προστασία Αποθήκευσης Token:** Φυλάξτε πάντα τα tokens με ασφάλεια και χρησιμοποιήστε κρυπτογράφηση για την προστασία τους σε κατάσταση ηρεμίας και μεταφοράς. Για συμβουλές υλοποίησης, δείτε [Use secure token storage and encrypt tokens](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2).

# Υπερβολικά δικαιώματα για MCP servers

### Διατύπωση Προβλήματος  
Οι MCP servers μπορεί να έχουν παραχωρηθεί υπερβολικά δικαιώματα στην υπηρεσία/πόρο που προσπελαύνουν. Για παράδειγμα, ένας MCP server που είναι μέρος μιας εφαρμογής πωλήσεων AI που συνδέεται με μια εταιρική βάση δεδομένων θα πρέπει να έχει πρόσβαση μόνο στα δεδομένα πωλήσεων και όχι σε όλα τα αρχεία της αποθήκης. Αναφερόμενοι στην αρχή της ελάχιστης απαραίτητης πρόσβασης (μία από τις παλαιότερες αρχές ασφαλείας), κανένας πόρος δεν πρέπει να έχει δικαιώματα πέραν αυτών που απαιτούνται για την εκτέλεση των εργασιών για τις οποίες προορίζεται. Η τεχνητή νοημοσύνη δημιουργεί πρόσθετες προκλήσεις, καθώς για να είναι ευέλικτη, είναι δύσκολο να οριστούν ακριβώς τα απαιτούμενα δικαιώματα.

### Κίνδυνοι  
- Η παραχώρηση υπερβολικών δικαιωμάτων μπορεί να επιτρέψει διαρροή ή τροποποίηση δεδομένων που ο MCP server δεν προοριζόταν να προσπελάσει. Αυτό μπορεί επίσης να αποτελεί ζήτημα ιδιωτικότητας αν τα δεδομένα είναι προσωπικά αναγνωρίσιμες πληροφορίες (PII).

### Μέτρα μετριασμού  
- **Εφαρμογή της Αρχής της Ελάχιστης Απαραίτητης Πρόσβασης:** Παραχωρήστε στον MCP server μόνο τα ελάχιστα δικαιώματα που χρειάζεται για να εκτελέσει τις απαιτούμενες εργασίες. Επανεξετάζετε τακτικά και ενημερώνετε αυτά τα δικαιώματα ώστε να μην υπερβαίνουν τα απαραίτητα. Για λεπτομερείς οδηγίες, δείτε [Secure least-privileged access](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access).
- **Χρήση Role-Based Access Control (RBAC):** Αναθέστε ρόλους στον MCP server που είναι αυστηρά περιορισμένοι σε συγκεκριμένους πόρους και ενέργειες, αποφεύγοντας ευρείες ή περιττές άδειες.
- **Παρακολούθηση και Έλεγχος Δικαιωμάτων:** Παρακολουθείτε συνεχώς τη χρήση δικαιωμάτων και ελέγχετε τα αρχεία πρόσβασης για να εντοπίσετε και να διορθώσετε υπερβολικά ή αχρησιμοποίητα προνόμια άμεσα.

# Επιθέσεις έμμεσης έγχυσης προτροπών

### Διατύπωση Προβλήματος

Κακόβουλοι ή παραβιασμένοι MCP servers μπορούν να εισάγουν σημαντικούς κινδύνους εκθέτοντας δεδομένα πελατών ή επιτρέποντας απρόβλεπτες ενέργειες. Αυτοί οι κίνδυνοι είναι ιδιαίτερα σημαντικοί σε φορτία εργασίας AI και MCP, όπου:

- **Επιθέσεις Έγχυσης Προτροπών:** Οι επιτιθέμενοι ενσωματώνουν κακόβουλες οδηγίες σε προτροπές ή εξωτερικό περιεχόμενο, αναγκάζοντας το σύστημα AI να εκτελέσει απρόβλεπτες ενέργειες ή να διαρρεύσει ευαίσθητα δεδομένα. Μάθετε περισσότερα: [Prompt Injection](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)
- **Δηλητηρίαση Εργαλείων:** Οι επιτιθέμενοι χειραγωγούν τα μεταδεδομένα εργαλείων (όπως περιγραφές ή παραμέτρους) για να επηρεάσουν τη συμπεριφορά του AI, παρακάμπτοντας πιθανά ελέγχους ασφαλείας ή διαρρέοντας δεδομένα. Λεπτομέρειες: [Tool Poisoning](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)
- **Διατομεακή Έγχυση Προτροπών:** Κακόβουλες οδηγίες ενσωματώνονται σε έγγραφα, ιστοσελίδες ή emails, τα οποία επεξεργάζεται το AI, οδηγώντας σε διαρροή ή παραποίηση δεδομένων.
- **Δυναμική Τροποποίηση Εργαλείων (Rug Pulls):** Οι ορισμοί εργαλείων μπορούν να αλλάξουν μετά από έγκριση χρήστη, εισάγοντας νέες κακόβουλες συμπεριφορές χωρίς γνώση του χρήστη.

Αυτές οι ευπάθειες υπογραμμίζουν την ανάγκη για αυστηρή επικύρωση, παρακολούθηση και ελέγχους ασφαλείας όταν ενσωματώνετε MCP servers και εργαλεία στο περιβάλλον σας. Για πιο λεπτομερή ανάλυση, δείτε τις παραπάνω συνδέσεις.

![prompt-injection-lg-2048x1034](../../../translated_images/prompt-injection.ed9fbfde297ca877c15bc6daa808681cd3c3dc7bf27bbbda342ef1ba5fc4f52d.el.png)

**Έμμεση Έγχυση Προτροπών** (γνωστή και ως cross-domain prompt injection ή XPIA) είναι μια κρίσιμη ευπάθεια σε γενετικά συστήματα AI, συμπεριλαμβανομένων αυτών που χρησιμοποιούν το Model Context Protocol (MCP). Σε αυτή την επίθεση, κακόβουλες οδηγίες κρύβονται μέσα σε εξωτερικό περιεχόμενο—όπως έγγραφα, ιστοσελίδες ή emails. Όταν το σύστημα AI επεξεργάζεται αυτό το περιεχόμενο, μπορεί να ερμηνεύσει τις ενσωματωμένες οδηγίες ως νόμιμες εντολές χρήστη, με αποτέλεσμα απρόβλεπτες ενέργειες όπως διαρροή δεδομένων, δημιουργία επιβλαβούς περιεχομένου ή παραποίηση αλληλεπιδράσεων χρήστη. Για λεπτομερή εξήγηση και παραδείγματα, δεί
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [OWASP Top 10 for LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- [GitHub Advanced Security](https://github.com/security/advanced-security)
- [Azure DevOps](https://azure.microsoft.com/products/devops)
- [Azure Repos](https://azure.microsoft.com/products/devops/repos/)
- [The Journey to Secure the Software Supply Chain at Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)
- [Secure Least-Privileged Access (Microsoft)](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- [Best Practices for Token Validation and Lifetime](https://learn.microsoft.com/entra/identity-platform/access-tokens)
- [Use Secure Token Storage and Encrypt Tokens (YouTube)](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)
- [Azure API Management as Auth Gateway for MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
- [MCP Security Best Practice](https://modelcontextprotocol.io/specification/draft/basic/security_best_practices)
- [Using Microsoft Entra ID to Authenticate with MCP Servers](https://den.dev/blog/mcp-server-auth-entra-id-session/)

### Επόμενο

Επόμενο: [Κεφάλαιο 3: Ξεκινώντας](/03-GettingStarted/README.md)

**Αποποίηση ευθυνών**:  
Αυτό το έγγραφο έχει μεταφραστεί χρησιμοποιώντας την υπηρεσία μετάφρασης με τεχνητή νοημοσύνη [Co-op Translator](https://github.com/Azure/co-op-translator). Παρόλο που επιδιώκουμε την ακρίβεια, παρακαλούμε να γνωρίζετε ότι οι αυτόματες μεταφράσεις ενδέχεται να περιέχουν λάθη ή ανακρίβειες. Το πρωτότυπο έγγραφο στη μητρική του γλώσσα πρέπει να θεωρείται η αυθεντική πηγή. Για κρίσιμες πληροφορίες, συνιστάται επαγγελματική ανθρώπινη μετάφραση. Δεν φέρουμε ευθύνη για τυχόν παρεξηγήσεις ή λανθασμένες ερμηνείες που προκύπτουν από τη χρήση αυτής της μετάφρασης.