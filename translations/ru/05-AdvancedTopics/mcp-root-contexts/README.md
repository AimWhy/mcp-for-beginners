<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8311f46a35cf608c9780f39b62c9dc3f",
  "translation_date": "2025-07-14T01:58:07+00:00",
  "source_file": "05-AdvancedTopics/mcp-root-contexts/README.md",
  "language_code": "ru"
}
-->
## Пример: Реализация корневого контекста для финансового анализа

В этом примере мы создадим корневой контекст для сессии финансового анализа, демонстрируя, как поддерживать состояние на протяжении нескольких взаимодействий.

## Пример: Управление корневыми контекстами

Эффективное управление корневыми контекстами имеет решающее значение для сохранения истории разговоров и состояния. Ниже приведён пример реализации управления корневыми контекстами.

## Корневой контекст для многошаговой помощи

В этом примере мы создадим корневой контекст для сессии многошаговой помощи, демонстрируя, как поддерживать состояние на протяжении нескольких взаимодействий.

## Лучшие практики работы с корневыми контекстами

Вот несколько рекомендаций для эффективного управления корневыми контекстами:

- **Создавайте специализированные контексты**: Создавайте отдельные корневые контексты для разных целей или областей разговора, чтобы сохранять ясность.

- **Устанавливайте политики истечения срока**: Внедряйте правила для архивирования или удаления старых контекстов, чтобы управлять хранилищем и соблюдать политики хранения данных.

- **Храните релевантные метаданные**: Используйте метаданные контекста для сохранения важной информации о разговоре, которая может пригодиться позже.

- **Последовательно используйте идентификаторы контекста**: После создания контекста используйте его ID для всех связанных запросов, чтобы поддерживать непрерывность.

- **Генерируйте сводки**: Когда контекст становится слишком большим, рассматривайте возможность создания сводок, чтобы зафиксировать ключевую информацию и управлять размером контекста.

- **Реализуйте контроль доступа**: Для систем с несколькими пользователями внедряйте надлежащие механизмы контроля доступа для обеспечения конфиденциальности и безопасности контекстов разговоров.

- **Учитывайте ограничения контекста**: Помните о лимитах размера контекста и разрабатывайте стратегии для работы с очень длинными разговорами.

- **Архивируйте по завершении**: Архивируйте контексты после завершения разговоров, чтобы освободить ресурсы и сохранить историю общения.

## Что дальше

- [5.5 Маршрутизация](../mcp-routing/README.md)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному переводу, выполненному человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.