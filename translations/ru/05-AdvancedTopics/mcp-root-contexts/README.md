<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "8311f46a35cf608c9780f39b62c9dc3f",
  "translation_date": "2025-06-12T23:00:52+00:00",
  "source_file": "05-AdvancedTopics/mcp-root-contexts/README.md",
  "language_code": "ru"
}
-->
## Пример: Реализация Root Context для финансового анализа

В этом примере мы создадим root context для сессии финансового анализа, демонстрируя, как сохранять состояние между несколькими взаимодействиями.

## Пример: Управление Root Context

Эффективное управление root context крайне важно для сохранения истории и состояния разговора. Ниже приведён пример реализации управления root context.

## Root Context для многошаговой поддержки

В этом примере мы создадим root context для сессии многошаговой поддержки, показывая, как сохранять состояние между несколькими взаимодействиями.

## Лучшие практики работы с Root Context

Вот несколько рекомендаций для эффективного управления root context:

- **Создавайте специализированные контексты**: Создавайте отдельные root context для разных целей или областей разговора, чтобы поддерживать ясность.

- **Устанавливайте политики срока действия**: Внедряйте политики архивирования или удаления старых контекстов для управления хранилищем и соблюдения правил хранения данных.

- **Храните релевантные метаданные**: Используйте метаданные контекста для сохранения важной информации о разговоре, которая может понадобиться позже.

- **Последовательно используйте идентификаторы контекста**: После создания контекста всегда используйте его ID для всех связанных запросов, чтобы сохранить непрерывность.

- **Генерируйте резюме**: Когда контекст становится большим, рассмотрите возможность создания резюме, чтобы зафиксировать ключевую информацию и управлять размером контекста.

- **Реализуйте контроль доступа**: Для систем с несколькими пользователями обеспечьте правильный контроль доступа для сохранения конфиденциальности и безопасности контекстов разговоров.

- **Учитывайте ограничения контекста**: Помните о лимитах размера контекста и применяйте стратегии для работы с очень длинными разговорами.

- **Архивируйте после завершения**: Архивируйте контексты после завершения разговоров, чтобы освободить ресурсы и при этом сохранить историю.

## Что дальше

- [5.5 Маршрутизация](../mcp-routing/README.md)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия обеспечить точность, имейте в виду, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.