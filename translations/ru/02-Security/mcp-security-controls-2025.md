<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b59b477037dc1dd6b1740a0420f3be14",
  "translation_date": "2025-07-17T01:48:49+00:00",
  "source_file": "02-Security/mcp-security-controls-2025.md",
  "language_code": "ru"
}
-->
# Последние меры безопасности MCP — обновление за июль 2025 года

По мере развития Model Context Protocol (MCP) безопасность остаётся ключевым аспектом. В этом документе изложены последние меры безопасности и лучшие практики для надёжной реализации MCP по состоянию на июль 2025 года.

## Аутентификация и авторизация

### Поддержка делегирования OAuth 2.0

Недавние обновления спецификации MCP позволяют серверам MCP делегировать аутентификацию пользователей внешним сервисам, таким как Microsoft Entra ID. Это значительно повышает уровень безопасности за счёт:

1. **Исключения собственной реализации аутентификации**: снижает риск ошибок в пользовательском коде аутентификации  
2. **Использования проверенных провайдеров идентификации**: обеспечивает корпоративный уровень защиты  
3. **Централизации управления идентификацией**: упрощает управление жизненным циклом пользователей и контроль доступа  

## Предотвращение передачи токенов

Спецификация авторизации MCP явно запрещает передачу токенов для предотвращения обхода мер безопасности и проблем с ответственностью.

### Основные требования

1. **Серверы MCP НЕ ДОЛЖНЫ принимать токены, не выданные для них**: проверяйте, что у всех токенов правильный параметр audience  
2. **Реализуйте корректную проверку токенов**: проверяйте издателя, аудиторию, срок действия и подпись  
3. **Используйте отдельную выдачу токенов**: выдавайте новые токены для downstream-сервисов вместо передачи существующих  

## Безопасное управление сессиями

Для предотвращения атак с захватом или фиксацией сессий реализуйте следующие меры:

1. **Используйте безопасные, недетерминированные идентификаторы сессий**: генерируйте с помощью криптографически стойких генераторов случайных чисел  
2. **Привязывайте сессии к идентичности пользователя**: комбинируйте ID сессии с пользовательской информацией  
3. **Реализуйте корректную ротацию сессий**: после изменений аутентификации или повышения привилегий  
4. **Устанавливайте адекватные тайм-ауты сессий**: балансируйте безопасность и удобство для пользователя  

## Изоляция выполнения инструментов

Для предотвращения латерального перемещения и ограничения последствий возможных компрометаций:

1. **Изолируйте среды выполнения инструментов**: используйте контейнеры или отдельные процессы  
2. **Применяйте ограничения ресурсов**: предотвращайте атаки на исчерпание ресурсов  
3. **Реализуйте принцип наименьших привилегий**: предоставляйте только необходимые разрешения  
4. **Отслеживайте паттерны выполнения**: выявляйте аномальное поведение  

## Защита определения инструментов

Для предотвращения «отравления» инструментов:

1. **Проверяйте определения инструментов перед использованием**: ищите вредоносные инструкции или неподходящие шаблоны  
2. **Используйте проверку целостности**: хешируйте или подписывайте определения для обнаружения несанкционированных изменений  
3. **Реализуйте мониторинг изменений**: оповещайте о неожиданных модификациях метаданных инструментов  
4. **Ведите версионный контроль определений инструментов**: отслеживайте изменения и при необходимости откатывайте  

Эти меры в комплексе обеспечивают надёжную защиту MCP-реализаций, учитывая уникальные вызовы систем с искусственным интеллектом и сохраняя проверенные традиционные методы безопасности.

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному человеческому переводу. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.