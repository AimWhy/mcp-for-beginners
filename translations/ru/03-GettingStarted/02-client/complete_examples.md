<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "affcf199a44f60283a289dcb69dc144e",
  "translation_date": "2025-07-17T13:29:48+00:00",
  "source_file": "03-GettingStarted/02-client/complete_examples.md",
  "language_code": "ru"
}
-->
# Полные примеры клиентов MCP

В этой директории находятся полные, рабочие примеры клиентов MCP на разных языках программирования. Каждый клиент демонстрирует полный функционал, описанный в основном руководстве README.md.

## Доступные клиенты

### 1. Java клиент (`client_example_java.java`)
- **Транспорт**: SSE (Server-Sent Events) поверх HTTP
- **Целевой сервер**: `http://localhost:8080`
- **Возможности**: 
  - Установка соединения и пинг
  - Список инструментов
  - Операции калькулятора (сложение, вычитание, умножение, деление, помощь)
  - Обработка ошибок и извлечение результатов

**Для запуска:**
```bash
# Ensure your MCP server is running on localhost:8080
javac client_example_java.java
java client_example_java
```

### 2. C# клиент (`client_example_csharp.cs`)
- **Транспорт**: Stdio (стандартный ввод/вывод)
- **Целевой сервер**: Локальный .NET MCP сервер через dotnet run
- **Возможности**:
  - Автоматический запуск сервера через stdio транспорт
  - Список инструментов и ресурсов
  - Операции калькулятора
  - Парсинг результатов в формате JSON
  - Полная обработка ошибок

**Для запуска:**
```bash
dotnet run
```

### 3. TypeScript клиент (`client_example_typescript.ts`)
- **Транспорт**: Stdio (стандартный ввод/вывод)
- **Целевой сервер**: Локальный Node.js MCP сервер
- **Возможности**:
  - Полная поддержка протокола MCP
  - Операции с инструментами, ресурсами и подсказками
  - Операции калькулятора
  - Чтение ресурсов и выполнение подсказок
  - Надёжная обработка ошибок

**Для запуска:**
```bash
# First compile TypeScript (if needed)
npm run build

# Then run the client
npm run client
# or
node client_example_typescript.js
```

### 4. Python клиент (`client_example_python.py`)
- **Транспорт**: Stdio (стандартный ввод/вывод)  
- **Целевой сервер**: Локальный Python MCP сервер
- **Возможности**:
  - Асинхронный паттерн async/await для операций
  - Обнаружение инструментов и ресурсов
  - Тестирование операций калькулятора
  - Чтение содержимого ресурсов
  - Организация кода на основе классов

**Для запуска:**
```bash
python client_example_python.py
```

## Общие возможности всех клиентов

Каждая реализация клиента демонстрирует:

1. **Управление соединением**
   - Установка соединения с MCP сервером
   - Обработка ошибок соединения
   - Корректное освобождение ресурсов и очистка

2. **Обнаружение сервера**
   - Список доступных инструментов
   - Список доступных ресурсов (где поддерживается)
   - Список доступных подсказок (где поддерживается)

3. **Вызов инструментов**
   - Базовые операции калькулятора (сложение, вычитание, умножение, деление)
   - Команда помощи для информации о сервере
   - Правильная передача аргументов и обработка результатов

4. **Обработка ошибок**
   - Ошибки соединения
   - Ошибки выполнения инструментов
   - Корректное завершение с уведомлением пользователя

5. **Обработка результатов**
   - Извлечение текстового содержимого из ответов
   - Форматирование вывода для удобочитаемости
   - Обработка различных форматов ответов

## Требования

Перед запуском клиентов убедитесь, что:

1. **Соответствующий MCP сервер запущен** (из `../01-first-server/`)
2. **Установлены необходимые зависимости** для выбранного языка
3. **Налажено сетевое соединение** (для транспортов на основе HTTP)

## Основные отличия между реализациями

| Язык       | Транспорт | Запуск сервера | Асинхронная модель | Ключевые библиотеки |
|------------|-----------|----------------|--------------------|---------------------|
| Java       | SSE/HTTP  | Внешний        | Синхронный         | WebFlux, MCP SDK    |
| C#         | Stdio     | Автоматический | Async/Await        | .NET MCP SDK        |
| TypeScript | Stdio     | Автоматический | Async/Await        | Node MCP SDK        |
| Python     | Stdio     | Автоматический | AsyncIO            | Python MCP SDK      |

## Следующие шаги

После изучения этих примеров клиентов:

1. **Модифицируйте клиентов**, добавляя новые функции или операции
2. **Создайте собственный сервер** и протестируйте его с этими клиентами
3. **Экспериментируйте с разными транспортами** (SSE против Stdio)
4. **Разработайте более сложное приложение**, интегрирующее функционал MCP

## Устранение неполадок

### Частые проблемы

1. **Отказ в соединении**: Убедитесь, что MCP сервер запущен на ожидаемом порту/пути
2. **Модуль не найден**: Установите необходимый MCP SDK для вашего языка
3. **Отказ в доступе**: Проверьте права доступа к файлам для транспорта stdio
4. **Инструмент не найден**: Убедитесь, что сервер реализует ожидаемые инструменты

### Советы по отладке

1. **Включите подробное логирование** в вашем MCP SDK
2. **Проверьте логи сервера** на наличие сообщений об ошибках
3. **Проверьте соответствие имён и сигнатур инструментов** между клиентом и сервером
4. **Сначала протестируйте с MCP Inspector**, чтобы проверить работу сервера

## Связанная документация

- [Основное руководство по клиенту](./README.md)
- [Примеры MCP серверов](../../../../03-GettingStarted/01-first-server)
- [MCP с интеграцией LLM](../../../../03-GettingStarted/03-llm-client)
- [Официальная документация MCP](https://modelcontextprotocol.io/)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обращаться к профессиональному переводу, выполненному человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.