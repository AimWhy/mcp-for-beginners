<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a9c3ca25df37dbb4c1518174fc415ce1",
  "translation_date": "2025-05-17T09:28:16+00:00",
  "source_file": "03-GettingStarted/02-client/README.md",
  "language_code": "ru"
}
-->
# Создание клиента

Клиенты — это пользовательские приложения или скрипты, которые напрямую взаимодействуют с MCP-сервером для запроса ресурсов, инструментов и подсказок. В отличие от использования инструмента инспектора, который предоставляет графический интерфейс для взаимодействия с сервером, написание собственного клиента позволяет программировать и автоматизировать взаимодействия. Это позволяет разработчикам интегрировать возможности MCP в свои собственные рабочие процессы, автоматизировать задачи и создавать пользовательские решения, адаптированные к конкретным потребностям.

## Обзор

Этот урок вводит концепцию клиентов в экосистеме Model Context Protocol (MCP). Вы научитесь писать собственного клиента и подключать его к MCP-серверу.

## Цели обучения

К концу этого урока вы сможете:

- Понять, что может делать клиент.
- Написать собственного клиента.
- Подключить и протестировать клиента с MCP-сервером, чтобы убедиться, что последний работает как ожидалось.

## Что нужно для написания клиента?

Чтобы написать клиента, вам нужно сделать следующее:

- **Импортировать правильные библиотеки**. Вы будете использовать ту же библиотеку, что и раньше, только разные конструкции.
- **Создать экземпляр клиента**. Это будет включать создание экземпляра клиента и его подключение к выбранному методу передачи.
- **Решить, какие ресурсы перечислить**. Ваш MCP-сервер поставляется с ресурсами, инструментами и подсказками, вам нужно решить, какие из них перечислить.
- **Интегрировать клиента в хост-приложение**. Как только вы узнаете возможности сервера, вам нужно интегрировать это в ваше хост-приложение, чтобы, если пользователь введет подсказку или другую команду, соответствующая функция сервера была вызвана.

Теперь, когда мы понимаем на высоком уровне, что собираемся делать, давайте посмотрим на пример.

### Пример клиента

Давайте взглянем на этот пример клиента:
Вы обучены данным до октября 2023 года.

В приведенном выше коде мы:

- Импортируем библиотеки
- Создаем экземпляр клиента и подключаем его, используя stdio для передачи.
- Перечисляем подсказки, ресурсы и инструменты и вызываем их все.

Вот и все, клиент, который может общаться с MCP-сервером.

Давайте уделим время в следующем разделе упражнений и разберем каждый фрагмент кода, объясняя, что происходит.

## Упражнение: Написание клиента

Как было сказано выше, давайте уделим время объяснению кода, и, безусловно, пишите код вместе, если хотите.

### -1- Импорт библиотек

Давайте импортируем библиотеки, которые нам нужны, нам понадобятся ссылки на клиента и на выбранный нами транспортный протокол, stdio. stdio — это протокол для вещей, предназначенных для работы на вашем локальном компьютере. SSE — это другой транспортный протокол, который мы покажем в будущих главах, но это ваш другой вариант. Однако пока давайте продолжим с stdio.

Давайте перейдем к созданию экземпляра.

### -2- Создание экземпляра клиента и транспорта

Нам нужно будет создать экземпляр транспорта и нашего клиента:

### -3- Перечисление функций сервера

Теперь у нас есть клиент, который может подключаться, если программа будет запущена. Однако он на самом деле не перечисляет свои функции, так что давайте сделаем это следующим образом:

Отлично, теперь мы захватили все функции. Теперь вопрос: когда мы их используем? Что ж, этот клиент довольно прост, прост в том смысле, что нам нужно будет явно вызывать функции, когда мы их хотим. В следующей главе мы создадим более продвинутого клиента, который будет иметь доступ к собственной большой языковой модели, LLM. Однако пока давайте посмотрим, как мы можем вызвать функции на сервере:

### -4- Вызов функций

Чтобы вызвать функции, нам нужно убедиться, что мы указываем правильные аргументы и в некоторых случаях имя того, что мы пытаемся вызвать.

### -5- Запуск клиента

Чтобы запустить клиента, введите следующую команду в терминале:

## Задание

В этом задании вы будете использовать то, что вы узнали о создании клиента, чтобы создать собственного клиента.

Вот сервер, который вы можете использовать, и который вам нужно вызвать через ваш клиентский код, посмотрите, сможете ли вы добавить больше функций на сервер, чтобы сделать его более интересным.

## Решение

[Решение](./solution/README.md)

## Основные выводы

Основные выводы из этой главы о клиентах следующие:

- Могут использоваться как для обнаружения, так и для вызова функций на сервере.
- Могут запускать сервер, когда запускаются сами (как в этой главе), но клиенты могут подключаться и к работающим серверам.
- Это отличный способ протестировать возможности сервера наряду с альтернативами, такими как Инспектор, о котором говорилось в предыдущей главе.

## Дополнительные ресурсы

- [Создание клиентов в MCP](https://modelcontextprotocol.io/quickstart/client)

## Примеры

- [Калькулятор на Java](../samples/java/calculator/README.md)
- [Калькулятор на .Net](../../../../03-GettingStarted/samples/csharp)
- [Калькулятор на JavaScript](../samples/javascript/README.md)
- [Калькулятор на TypeScript](../samples/typescript/README.md)
- [Калькулятор на Python](../../../../03-GettingStarted/samples/python)

## Что дальше

- Далее: [Создание клиента с LLM](/03-GettingStarted/03-llm-client/README.md)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Хотя мы стремимся к точности, пожалуйста, имейте в виду, что автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для получения важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникающие в результате использования этого перевода.