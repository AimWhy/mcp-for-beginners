<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b6b1bc868efed4cf02c52f8deada559d",
  "translation_date": "2025-05-17T17:21:17+00:00",
  "source_file": "09-CaseStudy/Readme.md",
  "language_code": "ru"
}
-->
# Исследование: Azure AI Travel Agents – пример реализации

## Обзор

[Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents) — это комплексное эталонное решение, разработанное Microsoft, которое демонстрирует, как создать многоагентное приложение для планирования путешествий с использованием Model Context Protocol (MCP), Azure OpenAI и Azure AI Search. Этот проект демонстрирует лучшие практики оркестрации множества AI-агентов, интеграции корпоративных данных и предоставления безопасной, расширяемой платформы для реальных сценариев.

## Основные особенности
- **Оркестрация многоагентной системы:** Использует MCP для координации специализированных агентов (например, агентов по авиаперелетам, отелям и маршрутам), которые совместно выполняют сложные задачи по планированию путешествий.
- **Интеграция корпоративных данных:** Подключается к Azure AI Search и другим источникам корпоративных данных для предоставления актуальной и релевантной информации для рекомендаций по путешествиям.
- **Безопасная, масштабируемая архитектура:** Использует Azure-сервисы для аутентификации, авторизации и масштабируемого развертывания, следуя лучшим практикам безопасности предприятий.
- **Расширяемые инструменты:** Реализует повторно используемые инструменты MCP и шаблоны запросов, позволяя быстро адаптироваться к новым доменам или бизнес-требованиям.
- **Пользовательский интерфейс:** Предоставляет интерфейс для общения с пользователями, который позволяет взаимодействовать с агентами по путешествиям, используя Azure OpenAI и MCP.

## Архитектура
![Architecture](https://github.com/Azure-Samples/azure-ai-travel-agents/blob/main/docs/ai-travel-agents-architecture-diagram.png)

### Описание схемы архитектуры

Решение Azure AI Travel Agents спроектировано для модульности, масштабируемости и безопасной интеграции множества AI-агентов и источников корпоративных данных. Основные компоненты и поток данных выглядят следующим образом:

- **Пользовательский интерфейс:** Пользователи взаимодействуют с системой через разговорный интерфейс (например, веб-чат или бот в Teams), который отправляет запросы пользователей и получает рекомендации по путешествиям.
- **MCP сервер:** Работает как центральный оркестратор, получая ввод пользователя, управляя контекстом и координируя действия специализированных агентов (например, FlightAgent, HotelAgent, ItineraryAgent) через Model Context Protocol.
- **AI агенты:** Каждый агент отвечает за определенную область (авиаперелеты, отели, маршруты) и реализован как инструмент MCP. Агенты используют шаблоны запросов и логику для обработки запросов и генерации ответов.
- **Сервис Azure OpenAI:** Обеспечивает продвинутую обработку естественного языка и генерацию, позволяя агентам интерпретировать намерения пользователей и генерировать разговорные ответы.
- **Azure AI Search и корпоративные данные:** Агенты делают запросы в Azure AI Search и другие источники корпоративных данных, чтобы получить актуальную информацию о рейсах, отелях и вариантах путешествий.
- **Аутентификация и безопасность:** Интегрируется с Microsoft Entra ID для безопасной аутентификации и применяет контроль доступа с минимальными привилегиями ко всем ресурсам.
- **Развертывание:** Предназначено для развертывания на Azure Container Apps, обеспечивая масштабируемость, мониторинг и операционную эффективность.

Эта архитектура позволяет бесшовно оркестрировать множество AI-агентов, безопасно интегрировать с корпоративными данными и создавать надежную, расширяемую платформу для создания решений с AI, специфичных для определенных доменов.

## Пошаговое объяснение схемы архитектуры
Представьте, что вы планируете большое путешествие и у вас есть команда экспертов, которые помогают вам с каждой деталью. Система Azure AI Travel Agents работает аналогично, используя различные части (как членов команды), у каждого из которых есть специальная задача. Вот как все это взаимодействует:

### Пользовательский интерфейс (UI):
Думайте об этом как о стойке вашего туристического агента. Здесь вы (пользователь) задаете вопросы или делаете запросы, например, «Найдите мне рейс в Париж». Это может быть окно чата на сайте или приложение для обмена сообщениями.

### MCP сервер (Координатор):
MCP сервер — это как менеджер, который слушает ваш запрос на стойке и решает, какой специалист должен заняться каждой частью. Он следит за вашим разговором и обеспечивает бесперебойную работу.

### AI агенты (Специалисты-помощники):
Каждый агент — это эксперт в определенной области: один знает все о рейсах, другой — об отелях, а третий — о планировании маршрута. Когда вы запрашиваете поездку, MCP сервер отправляет ваш запрос соответствующему агенту(ам). Эти агенты используют свои знания и инструменты, чтобы найти для вас лучшие варианты.

### Сервис Azure OpenAI (Языковой эксперт):
Это как иметь языкового эксперта, который понимает, что именно вы спрашиваете, независимо от того, как вы это сформулировали. Он помогает агентам понять ваши запросы и ответить естественным разговорным языком.

### Azure AI Search и корпоративные данные (Информационная библиотека):
Представьте себе огромную, актуальную библиотеку с всей последней информацией о путешествиях — расписаниями рейсов, доступностью отелей и многим другим. Агенты ищут в этой библиотеке, чтобы получить самые точные ответы для вас.

### Аутентификация и безопасность (Охранник):
Как охранник проверяет, кто может войти в определенные зоны, эта часть гарантирует, что только авторизованные люди и агенты могут получить доступ к конфиденциальной информации. Она защищает ваши данные и сохраняет их конфиденциальность.

### Развертывание на Azure Container Apps (Здание):
Все эти помощники и инструменты работают вместе внутри безопасного, масштабируемого здания (облака). Это значит, что система может обслуживать множество пользователей одновременно и всегда доступна, когда вам это нужно.

## Как все это работает вместе:

Вы начинаете с вопроса на стойке (UI).
Менеджер (MCP сервер) определяет, какой специалист (агент) должен вам помочь.
Специалист использует языкового эксперта (OpenAI), чтобы понять ваш запрос, и библиотеку (AI Search), чтобы найти лучший ответ.
Охранник (Аутентификация) обеспечивает безопасность.
Все это происходит внутри надежного, масштабируемого здания (Azure Container Apps), так что ваш опыт становится плавным и безопасным.
Эта командная работа позволяет системе быстро и безопасно помочь вам спланировать ваше путешествие, как команда опытных туристических агентов, работающих вместе в современном офисе!

## Техническая реализация
- **MCP сервер:** Хостит основную логику оркестрации, предоставляет инструменты агентов и управляет контекстом для многошаговых рабочих процессов планирования путешествий.
- **Агенты:** Каждый агент (например, FlightAgent, HotelAgent) реализован как инструмент MCP со своими шаблонами запросов и логикой.
- **Интеграция с Azure:** Использует Azure OpenAI для понимания естественного языка и Azure AI Search для извлечения данных.
- **Безопасность:** Интегрируется с Microsoft Entra ID для аутентификации и применяет контроль доступа с минимальными привилегиями ко всем ресурсам.
- **Развертывание:** Поддерживает развертывание на Azure Container Apps для масштабируемости и операционной эффективности.

## Результаты и влияние
- Демонстрирует, как MCP может быть использован для оркестрации множества AI-агентов в реальном, производственном сценарии.
- Ускоряет разработку решений, предоставляя повторно используемые шаблоны для координации агентов, интеграции данных и безопасного развертывания.
- Служит планом для создания приложений, специфичных для определенных доменов, с поддержкой AI, используя MCP и Azure-сервисы.

## Ссылки
- [Репозиторий Azure AI Travel Agents на GitHub](https://github.com/Azure-Samples/azure-ai-travel-agents)
- [Сервис Azure OpenAI](https://azure.microsoft.com/en-us/products/ai-services/openai-service/)
- [Azure AI Search](https://azure.microsoft.com/en-us/products/ai-services/ai-search/)
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Хотя мы стремимся к точности, пожалуйста, помните, что автоматизированные переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для критически важной информации рекомендуется профессиональный перевод человеком. Мы не несем ответственности за любые недоразумения или неверные толкования, возникающие в результате использования этого перевода.