<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4d3415b9d2bf58bc69be07f945a69e07",
  "translation_date": "2025-05-20T23:32:31+00:00",
  "source_file": "09-CaseStudy/README.md",
  "language_code": "ru"
}
-->
# Кейc: Azure AI Travel Agents – Референсная реализация

## Обзор

[Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents) — это комплексное референсное решение от Microsoft, демонстрирующее, как создать многопользовательское AI-приложение для планирования путешествий с использованием Model Context Protocol (MCP), Azure OpenAI и Azure AI Search. Этот проект показывает лучшие практики по координации нескольких AI-агентов, интеграции корпоративных данных и созданию безопасной, расширяемой платформы для реальных сценариев.

## Ключевые возможности
- **Оркестрация нескольких агентов:** Использует MCP для координации специализированных агентов (например, для авиабилетов, отелей и маршрутов), которые совместно решают сложные задачи планирования путешествий.
- **Интеграция корпоративных данных:** Подключается к Azure AI Search и другим корпоративным источникам данных для предоставления актуальной и релевантной информации по рекомендациям.
- **Безопасная и масштабируемая архитектура:** Использует Azure-сервисы для аутентификации, авторизации и масштабируемого развертывания с соблюдением лучших практик безопасности предприятий.
- **Расширяемые инструменты:** Реализует повторно используемые MCP-инструменты и шаблоны подсказок, позволяющие быстро адаптироваться к новым областям или бизнес-требованиям.
- **Пользовательский опыт:** Обеспечивает разговорный интерфейс для взаимодействия с туристическими агентами, работающий на базе Azure OpenAI и MCP.

## Архитектура
![Architecture](https://raw.githubusercontent.com/Azure-Samples/azure-ai-travel-agents/main/docs/ai-travel-agents-architecture-diagram.png)

### Описание диаграммы архитектуры

Решение Azure AI Travel Agents спроектировано с учётом модульности, масштабируемости и безопасной интеграции нескольких AI-агентов и корпоративных источников данных. Основные компоненты и поток данных выглядят следующим образом:

- **Пользовательский интерфейс:** Пользователи взаимодействуют с системой через разговорный UI (например, веб-чат или бота в Teams), отправляя запросы и получая рекомендации по путешествиям.
- **MCP Server:** Центральный оркестратор, который принимает ввод пользователя, управляет контекстом и координирует действия специализированных агентов (например, FlightAgent, HotelAgent, ItineraryAgent) через Model Context Protocol.
- **AI-агенты:** Каждый агент отвечает за свою область (авиабилеты, отели, маршруты) и реализован как MCP-инструмент. Агенты используют шаблоны подсказок и логику для обработки запросов и формирования ответов.
- **Azure OpenAI Service:** Обеспечивает продвинутые возможности понимания и генерации естественного языка, позволяя агентам правильно интерпретировать намерения пользователя и генерировать ответы в разговорной форме.
- **Azure AI Search и корпоративные данные:** Агенты запрашивают Azure AI Search и другие корпоративные источники данных для получения актуальной информации по авиарейсам, отелям и вариантам путешествий.
- **Аутентификация и безопасность:** Интегрируется с Microsoft Entra ID для безопасной аутентификации и применяет политику минимально необходимых прав доступа ко всем ресурсам.
- **Развертывание:** Предназначено для развертывания на Azure Container Apps, обеспечивая масштабируемость, мониторинг и эффективность эксплуатации.

Эта архитектура позволяет беспрепятственно координировать работу нескольких AI-агентов, безопасно интегрировать корпоративные данные и создавать надёжную, расширяемую платформу для построения AI-решений, ориентированных на конкретные области.

## Пошаговое объяснение диаграммы архитектуры
Представьте, что вы планируете большое путешествие и у вас есть команда опытных помощников, которые помогают с каждой деталью. Система Azure AI Travel Agents работает примерно так же, используя разные части (как члены команды), у каждого из которых своя специализация. Вот как это устроено:

### Пользовательский интерфейс (UI):
Это как стойка приёма у вашего туристического агента. Здесь вы (пользователь) задаёте вопросы или делаете запросы, например: «Найди мне рейс в Париж». Это может быть окно чата на сайте или в мессенджере.

### MCP Server (Координатор):
MCP Server — это как менеджер, который принимает ваш запрос на стойке и решает, какой специалист должен заняться каждой частью. Он ведёт учёт разговора и следит, чтобы всё шло гладко.

### AI-агенты (Специалисты):
Каждый агент — эксперт в своей области: один разбирается в авиабилетах, другой — в отелях, третий — в планировании маршрута. Когда вы делаете запрос, MCP Server отправляет его нужному агенту(ам). Агенты используют свои знания и инструменты, чтобы найти для вас лучшие варианты.

### Azure OpenAI Service (Языковой эксперт):
Это как иметь эксперта по языку, который точно понимает, что вы хотите, независимо от того, как вы сформулировали запрос. Он помогает агентам понять ваши просьбы и отвечать естественным, разговорным языком.

### Azure AI Search и корпоративные данные (Информационная библиотека):
Представьте огромную, постоянно обновляемую библиотеку с самой свежей информацией о путешествиях — расписаниями рейсов, доступностью отелей и прочим. Агенты ищут в этой библиотеке, чтобы дать вам самые точные ответы.

### Аутентификация и безопасность (Охранник):
Как охранник, который проверяет, кто может войти в определённые зоны, эта часть гарантирует, что доступ к конфиденциальной информации имеют только уполномоченные пользователи и агенты. Это защищает ваши данные.

### Развертывание на Azure Container Apps (Здание):
Все эти помощники и инструменты работают внутри надёжного, масштабируемого «здания» (облака). Это значит, что система может одновременно обслуживать много пользователей и всегда доступна, когда вы её ждёте.

## Как всё работает вместе:

Вы начинаете с вопроса на стойке (UI).  
Менеджер (MCP Server) определяет, какой специалист (агент) вам поможет.  
Специалист использует языкового эксперта (OpenAI), чтобы понять ваш запрос, и библиотеку (AI Search) для поиска лучшего ответа.  
Охранник (аутентификация) следит за безопасностью.  
Всё это происходит внутри надёжного, масштабируемого «здания» (Azure Container Apps), чтобы ваше взаимодействие было плавным и безопасным.  
Такое взаимодействие позволяет системе быстро и безопасно помочь вам спланировать поездку, словно команда опытных туристических агентов работает вместе в современном офисе!

## Техническая реализация
- **MCP Server:** Хостит основную логику оркестрации, предоставляет инструменты агентов и управляет контекстом для многошаговых рабочих процессов планирования путешествий.
- **Агенты:** Каждый агент (например, FlightAgent, HotelAgent) реализован как MCP-инструмент с собственными шаблонами подсказок и логикой.
- **Интеграция с Azure:** Использует Azure OpenAI для понимания естественного языка и Azure AI Search для получения данных.
- **Безопасность:** Интегрируется с Microsoft Entra ID для аутентификации и применяет политику минимально необходимых прав доступа ко всем ресурсам.
- **Развертывание:** Поддерживает развертывание на Azure Container Apps для масштабируемости и эффективности эксплуатации.

## Результаты и влияние
- Демонстрирует, как MCP может использоваться для оркестрации нескольких AI-агентов в реальных, производственных сценариях.
- Ускоряет разработку решений, предоставляя повторно используемые шаблоны для координации агентов, интеграции данных и безопасного развертывания.
- Служит шаблоном для создания AI-приложений, ориентированных на конкретные области, с использованием MCP и сервисов Azure.

## Ссылки
- [Azure AI Travel Agents GitHub Repository](https://github.com/Azure-Samples/azure-ai-travel-agents)
- [Azure OpenAI Service](https://azure.microsoft.com/en-us/products/ai-services/openai-service/)
- [Azure AI Search](https://azure.microsoft.com/en-us/products/ai-services/ai-search/)
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматический перевод может содержать ошибки или неточности. Оригинальный документ на его исходном языке следует считать авторитетным источником. Для получения критически важной информации рекомендуется обратиться к профессиональному человеческому переводу. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.