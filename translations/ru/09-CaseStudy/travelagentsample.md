<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4d3415b9d2bf58bc69be07f945a69e07",
  "translation_date": "2025-06-13T21:40:49+00:00",
  "source_file": "09-CaseStudy/travelagentsample.md",
  "language_code": "ru"
}
-->
# Кейс: Azure AI Travel Agents – Референсная реализация

## Обзор

[Azure AI Travel Agents](https://github.com/Azure-Samples/azure-ai-travel-agents) — это комплексное референсное решение от Microsoft, демонстрирующее, как создать многоконтекстное AI-приложение для планирования путешествий с использованием Model Context Protocol (MCP), Azure OpenAI и Azure AI Search. Проект показывает лучшие практики по координации нескольких AI-агентов, интеграции корпоративных данных и созданию безопасной, расширяемой платформы для реальных сценариев.

## Ключевые возможности
- **Оркестрация нескольких агентов:** Использует MCP для координации специализированных агентов (например, по авиабилетам, отелям и маршрутам), которые совместно решают сложные задачи планирования путешествий.
- **Интеграция корпоративных данных:** Подключается к Azure AI Search и другим корпоративным источникам данных для предоставления актуальной и релевантной информации для рекомендаций.
- **Безопасная и масштабируемая архитектура:** Использует сервисы Azure для аутентификации, авторизации и масштабируемого развертывания, следуя лучшим корпоративным практикам безопасности.
- **Расширяемые инструменты:** Реализует повторно используемые MCP-инструменты и шаблоны запросов, что позволяет быстро адаптироваться к новым областям или бизнес-требованиям.
- **Пользовательский опыт:** Обеспечивает разговорный интерфейс для взаимодействия с агентами, основанный на Azure OpenAI и MCP.

## Архитектура
![Architecture](https://raw.githubusercontent.com/Azure-Samples/azure-ai-travel-agents/main/docs/ai-travel-agents-architecture-diagram.png)

### Описание диаграммы архитектуры

Решение Azure AI Travel Agents спроектировано с учетом модульности, масштабируемости и безопасной интеграции нескольких AI-агентов и корпоративных источников данных. Основные компоненты и поток данных выглядят следующим образом:

- **Пользовательский интерфейс:** Пользователи взаимодействуют с системой через разговорный UI (например, веб-чат или бота в Teams), отправляя запросы и получая рекомендации по путешествиям.
- **MCP Server:** Центральный оркестратор, принимающий ввод пользователя, управляющий контекстом и координирующий действия специализированных агентов (например, FlightAgent, HotelAgent, ItineraryAgent) через Model Context Protocol.
- **AI агенты:** Каждый агент отвечает за свою область (авиабилеты, отели, маршруты) и реализован как MCP-инструмент. Агенты используют шаблоны запросов и логику для обработки запросов и генерации ответов.
- **Azure OpenAI Service:** Обеспечивает продвинутую обработку естественного языка, позволяя агентам понимать намерения пользователя и генерировать разговорные ответы.
- **Azure AI Search и корпоративные данные:** Агенты обращаются к Azure AI Search и другим корпоративным источникам для получения актуальной информации о рейсах, отелях и вариантах путешествий.
- **Аутентификация и безопасность:** Интеграция с Microsoft Entra ID для безопасной аутентификации и применение принципа минимальных прав доступа ко всем ресурсам.
- **Развертывание:** Предназначено для запуска на Azure Container Apps, что обеспечивает масштабируемость, мониторинг и эффективность эксплуатации.

Эта архитектура позволяет эффективно координировать работу нескольких AI-агентов, безопасно интегрироваться с корпоративными данными и создавать надежную, расширяемую платформу для специализированных AI-решений.

## Пошаговое объяснение диаграммы архитектуры
Представьте, что вы планируете большое путешествие и у вас есть команда экспертов, помогающих с каждым его аспектом. Система Azure AI Travel Agents работает похожим образом, используя разные компоненты (как членов команды), каждый из которых выполняет свою задачу. Вот как это работает:

### Пользовательский интерфейс (UI):
Это как ресепшн у вашего турагента. Здесь вы (пользователь) задаёте вопросы или делаете запросы, например: «Найди мне рейс в Париж». Это может быть чат на сайте или в мессенджере.

### MCP Server (Координатор):
MCP Server — это менеджер, который слушает ваш запрос на ресепшене и решает, какой специалист должен заняться каждой частью. Он отслеживает ход разговора и следит, чтобы всё работало гладко.

### AI агенты (Специалисты):
Каждый агент — эксперт в своей области: один знает всё про авиабилеты, другой — про отели, третий — про маршруты. Когда вы делаете запрос, MCP Server отправляет его нужному агенту(ам). Агенты используют свои знания и инструменты, чтобы подобрать лучшие варианты.

### Azure OpenAI Service (Языковой эксперт):
Это как языковой эксперт, который точно понимает, что вы хотите, независимо от формулировки. Он помогает агентам понять ваши запросы и отвечать на естественном, разговорном языке.

### Azure AI Search и корпоративные данные (Информационная библиотека):
Представьте огромную, постоянно обновляемую библиотеку с самой свежей информацией о рейсах, доступности отелей и других вариантах путешествий. Агенты обращаются к этой библиотеке, чтобы получить максимально точные ответы.

### Аутентификация и безопасность (Охранник):
Как охранник, который проверяет, кто может попасть в определённые зоны, этот компонент гарантирует, что доступ к конфиденциальной информации имеют только уполномоченные лица и агенты. Он защищает ваши данные.

### Развертывание на Azure Container Apps (Здание):
Все эти помощники и инструменты работают внутри безопасного, масштабируемого «здания» (облака). Это означает, что система способна обслуживать множество пользователей одновременно и всегда готова помочь.

## Как это всё работает вместе:

Вы начинаете с вопроса на ресепшене (UI).  
Менеджер (MCP Server) решает, какой специалист (агент) вам поможет.  
Специалист использует языкового эксперта (OpenAI), чтобы понять ваш запрос, и библиотеку (AI Search), чтобы найти лучший ответ.  
Охранник (Аутентификация) следит за безопасностью.  
Всё это происходит внутри надежного и масштабируемого здания (Azure Container Apps), чтобы ваш опыт был плавным и безопасным.  
Такое взаимодействие позволяет системе быстро и надежно помогать вам планировать поездку, как команда профессиональных турагентов в современном офисе!

## Техническая реализация
- **MCP Server:** Хостит основную логику оркестрации, предоставляет инструменты агентов и управляет контекстом для многошаговых сценариев планирования путешествий.
- **Агенты:** Каждый агент (например, FlightAgent, HotelAgent) реализован как MCP-инструмент со своими шаблонами запросов и логикой.
- **Интеграция с Azure:** Использует Azure OpenAI для обработки естественного языка и Azure AI Search для получения данных.
- **Безопасность:** Интегрируется с Microsoft Entra ID для аутентификации и применяет минимально необходимые права доступа ко всем ресурсам.
- **Развертывание:** Поддерживает развертывание на Azure Container Apps для масштабируемости и эффективной эксплуатации.

## Результаты и влияние
- Демонстрирует, как MCP может использоваться для оркестрации нескольких AI-агентов в реальных, промышленного уровня сценариях.
- Ускоряет разработку решений, предоставляя повторно используемые шаблоны для координации агентов, интеграции данных и безопасного развертывания.
- Служит шаблоном для создания отраслевых AI-приложений с использованием MCP и сервисов Azure.

## Ссылки
- [Azure AI Travel Agents GitHub Repository](https://github.com/Azure-Samples/azure-ai-travel-agents)
- [Azure OpenAI Service](https://azure.microsoft.com/en-us/products/ai-services/openai-service/)
- [Azure AI Search](https://azure.microsoft.com/en-us/products/ai-services/ai-search/)
- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)

**Отказ от ответственности**:  
Этот документ был переведен с помощью сервиса автоматического перевода [Co-op Translator](https://github.com/Azure/co-op-translator). Несмотря на наши усилия по обеспечению точности, просим учитывать, что автоматические переводы могут содержать ошибки или неточности. Оригинальный документ на его родном языке следует считать авторитетным источником. Для критически важной информации рекомендуется использовать профессиональный перевод, выполненный человеком. Мы не несем ответственности за любые недоразумения или неправильные толкования, возникшие в результате использования данного перевода.