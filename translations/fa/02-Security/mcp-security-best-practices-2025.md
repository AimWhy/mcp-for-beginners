<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c3f4ea5732d64bf965e8aa2907759709",
  "translation_date": "2025-07-16T23:12:01+00:00",
  "source_file": "02-Security/mcp-security-best-practices-2025.md",
  "language_code": "fa"
}
-->
# بهترین شیوه‌های امنیتی MCP - به‌روزرسانی ژوئیه ۲۰۲۵

## بهترین شیوه‌های جامع امنیتی برای پیاده‌سازی‌های MCP

هنگام کار با سرورهای MCP، برای محافظت از داده‌ها، زیرساخت و کاربران خود، این بهترین شیوه‌های امنیتی را دنبال کنید:

1. **اعتبارسنجی ورودی‌ها**: همیشه ورودی‌ها را اعتبارسنجی و پاک‌سازی کنید تا از حملات تزریق و مشکلات نماینده گیج جلوگیری شود.
   - اعتبارسنجی دقیق برای تمام پارامترهای ابزار پیاده‌سازی کنید
   - از اعتبارسنجی طرح‌واره برای اطمینان از تطابق درخواست‌ها با فرمت‌های مورد انتظار استفاده کنید
   - محتوای بالقوه مخرب را قبل از پردازش فیلتر کنید

2. **کنترل دسترسی**: احراز هویت و مجوزدهی مناسب را برای سرور MCP خود با مجوزهای دقیق پیاده‌سازی کنید.
   - از OAuth 2.0 با ارائه‌دهندگان هویت معتبر مانند Microsoft Entra ID استفاده کنید
   - کنترل دسترسی مبتنی بر نقش (RBAC) را برای ابزارهای MCP پیاده‌سازی کنید
   - هرگز احراز هویت سفارشی را زمانی که راه‌حل‌های معتبر وجود دارد، پیاده‌سازی نکنید

3. **ارتباط امن**: برای تمام ارتباطات با سرور MCP خود از HTTPS/TLS استفاده کنید و برای داده‌های حساس رمزنگاری اضافی در نظر بگیرید.
   - در صورت امکان TLS 1.3 را پیکربندی کنید
   - برای ارتباطات حیاتی، پین کردن گواهی‌نامه را پیاده‌سازی کنید
   - گواهی‌نامه‌ها را به‌طور منظم تعویض و اعتبار آن‌ها را بررسی کنید

4. **محدودیت نرخ درخواست**: محدودیت نرخ را برای جلوگیری از سوءاستفاده، حملات DoS و مدیریت مصرف منابع پیاده‌سازی کنید.
   - محدودیت‌های مناسب درخواست را بر اساس الگوهای استفاده مورد انتظار تنظیم کنید
   - پاسخ‌های تدریجی به درخواست‌های بیش از حد پیاده‌سازی کنید
   - محدودیت‌های نرخ خاص کاربر را بر اساس وضعیت احراز هویت در نظر بگیرید

5. **ثبت و نظارت**: سرور MCP خود را برای فعالیت‌های مشکوک نظارت کنید و مسیرهای حسابرسی جامع پیاده‌سازی کنید.
   - تمام تلاش‌های احراز هویت و فراخوانی ابزارها را ثبت کنید
   - هشدارهای بلادرنگ برای الگوهای مشکوک پیاده‌سازی کنید
   - اطمینان حاصل کنید که لاگ‌ها به‌صورت امن ذخیره شده و قابل دستکاری نیستند

6. **ذخیره‌سازی امن**: داده‌ها و اطلاعات حساس را با رمزنگاری مناسب در حالت استراحت محافظت کنید.
   - از مخازن کلید یا ذخیره‌سازهای امن برای تمام اسرار استفاده کنید
   - رمزنگاری در سطح فیلد برای داده‌های حساس پیاده‌سازی کنید
   - کلیدها و اطلاعات احراز هویت را به‌طور منظم تعویض کنید

7. **مدیریت توکن**: با اعتبارسنجی و پاک‌سازی تمام ورودی‌ها و خروجی‌های مدل، از آسیب‌پذیری‌های عبور توکن جلوگیری کنید.
   - اعتبارسنجی توکن را بر اساس ادعاهای مخاطب پیاده‌سازی کنید
   - هرگز توکن‌هایی که به‌طور صریح برای سرور MCP شما صادر نشده‌اند را قبول نکنید
   - مدیریت طول عمر توکن و تعویض آن را به‌درستی انجام دهید

8. **مدیریت نشست**: مدیریت نشست امن را برای جلوگیری از ربودن و تثبیت نشست پیاده‌سازی کنید.
   - از شناسه‌های نشست امن و غیرقابل پیش‌بینی استفاده کنید
   - نشست‌ها را به اطلاعات خاص کاربر متصل کنید
   - انقضا و تعویض مناسب نشست را پیاده‌سازی کنید

9. **اجرای ابزار در محیط ایزوله**: اجرای ابزارها را در محیط‌های جداگانه انجام دهید تا در صورت نفوذ، حرکت جانبی محدود شود.
   - ایزولاسیون کانتینری برای اجرای ابزارها پیاده‌سازی کنید
   - محدودیت منابع برای جلوگیری از حملات تخلیه منابع اعمال کنید
   - از زمینه‌های اجرای جداگانه برای حوزه‌های امنیتی مختلف استفاده کنید

10. **بازرسی‌های امنیتی منظم**: بازبینی‌های دوره‌ای امنیتی برای پیاده‌سازی‌ها و وابستگی‌های MCP انجام دهید.
    - تست نفوذ منظم برنامه‌ریزی کنید
    - از ابزارهای اسکن خودکار برای شناسایی آسیب‌پذیری‌ها استفاده کنید
    - وابستگی‌ها را به‌روزرسانی کنید تا مشکلات امنیتی شناخته شده رفع شوند

11. **فیلتر ایمنی محتوا**: فیلترهای ایمنی محتوا را برای ورودی‌ها و خروجی‌ها پیاده‌سازی کنید.
    - از Azure Content Safety یا خدمات مشابه برای شناسایی محتوای مضر استفاده کنید
    - تکنیک‌های محافظت از پرامپت برای جلوگیری از تزریق پرامپت پیاده‌سازی کنید
    - محتوای تولید شده را برای احتمال نشت داده‌های حساس اسکن کنید

12. **امنیت زنجیره تأمین**: صحت و اصالت تمام اجزای زنجیره تأمین هوش مصنوعی خود را بررسی کنید.
    - از بسته‌های امضا شده استفاده کرده و امضاها را تأیید کنید
    - تحلیل فهرست مواد نرم‌افزاری (SBOM) را پیاده‌سازی کنید
    - به‌روزرسانی‌های مخرب وابستگی‌ها را نظارت کنید

13. **حفاظت از تعریف ابزار**: با ایمن‌سازی تعاریف و متادیتای ابزار، از مسمومیت ابزار جلوگیری کنید.
    - تعاریف ابزار را قبل از استفاده اعتبارسنجی کنید
    - تغییرات غیرمنتظره در متادیتای ابزار را نظارت کنید
    - بررسی‌های یکپارچگی برای تعاریف ابزار پیاده‌سازی کنید

14. **نظارت بر اجرای پویا**: رفتار زمان اجرا سرورها و ابزارهای MCP را نظارت کنید.
    - تحلیل رفتاری برای شناسایی ناهنجاری‌ها پیاده‌سازی کنید
    - هشدار برای الگوهای اجرای غیرمنتظره تنظیم کنید
    - از تکنیک‌های حفاظت خودکار برنامه در زمان اجرا (RASP) استفاده کنید

15. **اصل حداقل امتیاز**: اطمینان حاصل کنید که سرورها و ابزارهای MCP با حداقل مجوزهای لازم کار می‌کنند.
    - فقط مجوزهای خاص مورد نیاز برای هر عملیات را اعطا کنید
    - استفاده از مجوزها را به‌طور منظم بازبینی و حسابرسی کنید
    - دسترسی به موقع برای عملکردهای مدیریتی پیاده‌سازی کنید

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما در تلاش برای دقت هستیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است حاوی خطاها یا نادرستی‌هایی باشند. سند اصلی به زبان بومی خود باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما مسئول هیچ گونه سوءتفاهم یا تفسیر نادرستی که از استفاده از این ترجمه ناشی شود، نیستیم.