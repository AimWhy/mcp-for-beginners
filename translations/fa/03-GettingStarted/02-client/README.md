<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a9c3ca25df37dbb4c1518174fc415ce1",
  "translation_date": "2025-05-17T09:29:24+00:00",
  "source_file": "03-GettingStarted/02-client/README.md",
  "language_code": "fa"
}
-->
# ایجاد یک کلاینت

کلاینت‌ها برنامه‌ها یا اسکریپت‌های سفارشی هستند که مستقیماً با یک سرور MCP برای درخواست منابع، ابزارها و اعلان‌ها ارتباط برقرار می‌کنند. برخلاف استفاده از ابزار بازرس که یک رابط گرافیکی برای تعامل با سرور ارائه می‌دهد، نوشتن کلاینت خودتان امکان تعامل برنامه‌ریزی شده و خودکار را فراهم می‌کند. این امر به توسعه‌دهندگان اجازه می‌دهد تا قابلیت‌های MCP را در جریان‌های کاری خود ادغام کنند، وظایف را خودکار کنند و راه‌حل‌های سفارشی متناسب با نیازهای خاص ایجاد کنند.

## مرور کلی

این درس مفهوم کلاینت‌ها در اکوسیستم پروتکل مدل زمینه (MCP) را معرفی می‌کند. شما یاد خواهید گرفت که چگونه کلاینت خود را بنویسید و آن را به یک سرور MCP متصل کنید.

## اهداف یادگیری

تا پایان این درس، شما قادر خواهید بود:

- درک کنید که یک کلاینت چه کاری می‌تواند انجام دهد.
- کلاینت خودتان را بنویسید.
- کلاینت را با یک سرور MCP متصل و آزمایش کنید تا اطمینان حاصل کنید که سرور به درستی کار می‌کند.

## چه چیزی در نوشتن یک کلاینت دخیل است؟

برای نوشتن یک کلاینت، باید موارد زیر را انجام دهید:

- **کتابخانه‌های صحیح را وارد کنید**. شما از همان کتابخانه‌ای که قبلاً استفاده کرده‌اید، استفاده خواهید کرد، فقط ساختارهای متفاوتی خواهید داشت.
- **یک کلاینت را ایجاد کنید**. این شامل ایجاد یک نمونه کلاینت و اتصال آن به روش انتقال انتخابی خواهد بود.
- **تصمیم بگیرید که چه منابعی را فهرست کنید**. سرور MCP شما با منابع، ابزارها و اعلان‌ها همراه است، شما باید تصمیم بگیرید که کدام یک را فهرست کنید.
- **کلاینت را با یک برنامه میزبان ادغام کنید**. هنگامی که قابلیت‌های سرور را شناختید، باید این قابلیت‌ها را در برنامه میزبان خود ادغام کنید تا اگر کاربر یک اعلان یا دستور دیگری تایپ کند، ویژگی مربوط به سرور فراخوانی شود.

اکنون که به صورت کلی متوجه شدیم که چه کاری قرار است انجام دهیم، بیایید به یک مثال نگاه کنیم.

### یک مثال کلاینت

بیایید به این مثال کلاینت نگاهی بیندازیم:
شما تا داده‌های اکتبر ۲۰۲۳ آموزش دیده‌اید.

در کد قبلی ما:

- کتابخانه‌ها را وارد می‌کنیم
- یک نمونه از یک کلاینت ایجاد کرده و آن را با استفاده از stdio برای انتقال متصل می‌کنیم.
- اعلان‌ها، منابع و ابزارها را فهرست کرده و همه را فراخوانی می‌کنیم.

این هم از آن، یک کلاینت که می‌تواند با یک سرور MCP صحبت کند.

بیایید در بخش تمرین بعدی وقت خود را صرف کنیم و هر قطعه کد را تجزیه و تحلیل کنیم و توضیح دهیم که چه اتفاقی می‌افتد.

## تمرین: نوشتن یک کلاینت

همانطور که گفته شد، بیایید وقت خود را صرف توضیح کد کنیم و اگر می‌خواهید، حتماً همراه با آن کد بنویسید.

### -1- وارد کردن کتابخانه‌ها

بیایید کتابخانه‌هایی را که نیاز داریم وارد کنیم، به مراجع به یک کلاینت و پروتکل انتقال انتخابی ما، stdio نیاز خواهیم داشت. stdio یک پروتکل برای چیزهایی است که قرار است روی دستگاه محلی شما اجرا شوند. SSE یک پروتکل انتقال دیگر است که در فصل‌های آینده نشان خواهیم داد، اما این گزینه دیگر شماست. اما در حال حاضر، بیایید با stdio ادامه دهیم.

بیایید به ایجاد نمونه بپردازیم.

### -2- ایجاد نمونه کلاینت و انتقال

ما نیاز خواهیم داشت تا یک نمونه از انتقال و یکی از کلاینت خود ایجاد کنیم:

### -3- فهرست کردن ویژگی‌های سرور

حالا، ما یک کلاینت داریم که می‌تواند به سرور متصل شود، به شرطی که برنامه اجرا شود. با این حال، در واقع ویژگی‌های آن را فهرست نمی‌کند، بنابراین بیایید این کار را انجام دهیم:

عالی، اکنون همه ویژگی‌ها را ثبت کرده‌ایم. حالا سوال این است که چه زمانی از آنها استفاده می‌کنیم؟ خوب، این کلاینت بسیار ساده است، به این معنا که ما باید به صورت صریح ویژگی‌ها را زمانی که به آنها نیاز داریم فراخوانی کنیم. در فصل بعد، یک کلاینت پیشرفته‌تر ایجاد خواهیم کرد که به مدل زبان بزرگ خود، LLM دسترسی دارد. اما فعلاً، بیایید ببینیم چگونه می‌توانیم ویژگی‌ها را روی سرور فراخوانی کنیم:

### -4- فراخوانی ویژگی‌ها

برای فراخوانی ویژگی‌ها، باید اطمینان حاصل کنیم که آرگومان‌های صحیح و در برخی موارد نام چیزی که می‌خواهیم فراخوانی کنیم را مشخص کرده‌ایم.

### -5- اجرای کلاینت

برای اجرای کلاینت، دستور زیر را در ترمینال تایپ کنید:

## تکلیف

در این تکلیف، شما از آنچه که در ایجاد یک کلاینت یاد گرفته‌اید استفاده خواهید کرد، اما یک کلاینت خودتان ایجاد کنید.

در اینجا یک سرور وجود دارد که می‌توانید از آن استفاده کنید و باید از طریق کد کلاینت خود آن را فراخوانی کنید، ببینید آیا می‌توانید ویژگی‌های بیشتری به سرور اضافه کنید تا جالب‌تر شود.

## راه حل

[راه حل](./solution/README.md)

## نکات کلیدی

نکات کلیدی برای این فصل در مورد کلاینت‌ها عبارتند از:

- می‌توانند برای کشف و فراخوانی ویژگی‌ها در سرور استفاده شوند.
- می‌توانند یک سرور را در حالی که خودشان شروع می‌شوند شروع کنند (مانند این فصل) اما کلاینت‌ها می‌توانند به سرورهای در حال اجرا نیز متصل شوند.
- یک راه عالی برای آزمایش قابلیت‌های سرور در کنار گزینه‌های دیگر مانند بازرس است که در فصل قبلی توضیح داده شد.

## منابع اضافی

- [ساخت کلاینت‌ها در MCP](https://modelcontextprotocol.io/quickstart/client)

## نمونه‌ها 

- [ماشین حساب جاوا](../samples/java/calculator/README.md)
- [ماشین حساب .Net](../../../../03-GettingStarted/samples/csharp)
- [ماشین حساب جاوااسکریپت](../samples/javascript/README.md)
- [ماشین حساب تایپ‌اسکریپت](../samples/typescript/README.md)
- [ماشین حساب پایتون](../../../../03-GettingStarted/samples/python) 

## چه چیزی در ادامه است

- بعدی: [ایجاد یک کلاینت با یک LLM](/03-GettingStarted/03-llm-client/README.md)

**سلب مسئولیت**:  
این سند با استفاده از خدمات ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما برای دقت تلاش می‌کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است شامل خطاها یا نادرستی‌هایی باشند. سند اصلی به زبان بومی خود باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حیاتی، ترجمه حرفه‌ای انسانی توصیه می‌شود. ما مسئولیتی در قبال سوءتفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.