<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a9c3ca25df37dbb4c1518174fc415ce1",
  "translation_date": "2025-05-17T09:32:06+00:00",
  "source_file": "03-GettingStarted/02-client/README.md",
  "language_code": "tw"
}
-->
# 建立客戶端

客戶端是自訂應用程式或腳本，直接與 MCP Server 通訊以請求資源、工具和提示。與使用檢查器工具提供的圖形介面與伺服器互動不同，撰寫自己的客戶端允許程式化和自動化的互動。這使得開發者能夠將 MCP 功能整合到自己的工作流程中，自動化任務，並根據特定需求構建自訂解決方案。

## 概述

這一課介紹了 Model Context Protocol (MCP) 生態系統中的客戶端概念。您將學習如何撰寫自己的客戶端並使其連接到 MCP Server。

## 學習目標

在這一課結束時，您將能夠：

- 理解客戶端的功能。
- 撰寫自己的客戶端。
- 連接並測試客戶端與 MCP server，以確保其正常運作。

## 撰寫客戶端需要做什麼？

撰寫客戶端，您需要做到以下幾點：

- **導入正確的庫**。您將使用之前相同的庫，只是不同的構造。
- **實例化一個客戶端**。這將涉及創建客戶端實例並將其連接到選擇的傳輸方法。
- **決定列出哪些資源**。您的 MCP server 配備了資源、工具和提示，您需要決定列出哪一個。
- **將客戶端整合到主機應用程式中**。一旦您了解伺服器的功能，您需要將其整合到您的主機應用程式中，以便如果用戶輸入提示或其他命令，對應的伺服器功能會被調用。

現在我們了解了高層次上我們要做的事情，接下來看看一個例子。

### 客戶端範例

讓我們看看這個客戶端範例：
您已接受至2023年10月的數據訓練。

在前面的代碼中，我們：

- 導入庫
- 創建一個客戶端實例並使用 stdio 進行傳輸連接。
- 列出提示、資源和工具並調用它們。

這樣您就擁有了一個可以與 MCP Server 通訊的客戶端。

讓我們在下一個練習部分中慢慢分解每個代碼片段並解釋發生了什麼。

## 練習：撰寫客戶端

如上所述，讓我們慢慢解釋代碼，並且如果您願意的話，可以跟著一起編碼。

### -1- 導入庫

讓我們導入我們需要的庫，我們將需要引用一個客戶端和我們選擇的傳輸協議，stdio。stdio 是一種用於在本地機器上運行的協議。SSE 是另一種傳輸協議，我們將在未來的章節中展示，但那是您的另一個選擇。現在，讓我們繼續使用 stdio。

讓我們繼續進行實例化。

### -2- 實例化客戶端和傳輸

我們需要創建傳輸的實例和客戶端的實例：

### -3- 列出伺服器功能

現在，我們有一個客戶端可以連接，假如程序被運行。然而，它並沒有實際列出它的功能，所以讓我們接下來做：

很好，現在我們已捕捉到所有功能。問題是我們什麼時候使用它們？這個客戶端非常簡單，簡單的意思是我們需要在需要時顯式調用功能。在下一章中，我們將創建一個更高級的客戶端，它有自己的大型語言模型，LLM。現在，讓我們看看如何在伺服器上調用功能：

### -4- 調用功能

要調用功能，我們需要確保指定正確的參數，並在某些情況下指定我們嘗試調用的名稱。

### -5- 運行客戶端

要運行客戶端，請在終端中輸入以下命令：

## 作業

在這個作業中，您將使用所學的內容創建一個客戶端，但要創建自己的客戶端。

這裡有一個伺服器，您可以使用您的客戶端代碼調用，看看您能否為伺服器添加更多功能，使其更有趣。

## 解決方案

[解決方案](./solution/README.md)

## 重要要點

這一章的重點關於客戶端如下：

- 可以用來發現和調用伺服器上的功能。
- 可以在自己啟動時啟動伺服器（如本章所示），但客戶端也可以連接到正在運行的伺服器。
- 是測試伺服器功能的好方法，與之前章節描述的檢查器等替代方案一起。

## 附加資源

- [在 MCP 中建立客戶端](https://modelcontextprotocol.io/quickstart/client)

## 範例

- [Java 計算器](../samples/java/calculator/README.md)
- [.Net 計算器](../../../../03-GettingStarted/samples/csharp)
- [JavaScript 計算器](../samples/javascript/README.md)
- [TypeScript 計算器](../samples/typescript/README.md)
- [Python 計算器](../../../../03-GettingStarted/samples/python) 

## 接下來的內容

- 下一步：[使用 LLM 建立客戶端](/03-GettingStarted/03-llm-client/README.md)

**免責聲明**：
本文件已使用AI翻譯服務[Co-op Translator](https://github.com/Azure/co-op-translator)進行翻譯。儘管我們力求準確，但請注意自動翻譯可能包含錯誤或不準確之處。應以原始語言的文件為權威來源。對於關鍵信息，建議使用專業人工翻譯。對於使用此翻譯而引起的任何誤解或誤釋，我們不承擔任何責任。