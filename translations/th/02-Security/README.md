<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c69f9df7f3215dac8d056020539bac36",
  "translation_date": "2025-07-04T17:32:51+00:00",
  "source_file": "02-Security/README.md",
  "language_code": "th"
}
-->
# แนวทางปฏิบัติด้านความปลอดภัยที่ดีที่สุด

การนำ Model Context Protocol (MCP) มาใช้ช่วยเพิ่มขีดความสามารถใหม่ ๆ ให้กับแอปพลิเคชันที่ขับเคลื่อนด้วย AI แต่ก็สร้างความท้าทายด้านความปลอดภัยเฉพาะตัวที่เกินกว่าความเสี่ยงซอฟต์แวร์แบบดั้งเดิม นอกเหนือจากความกังวลที่มีอยู่แล้ว เช่น การเขียนโค้ดอย่างปลอดภัย การให้สิทธิ์น้อยที่สุด และความปลอดภัยของห่วงโซ่อุปทาน MCP และงาน AI ยังเผชิญกับภัยคุกคามใหม่ ๆ เช่น การฉีดคำสั่ง (prompt injection), การวางยาพิษเครื่องมือ (tool poisoning) และการแก้ไขเครื่องมือแบบไดนามิก ความเสี่ยงเหล่านี้อาจนำไปสู่การรั่วไหลของข้อมูล การละเมิดความเป็นส่วนตัว และพฤติกรรมของระบบที่ไม่ตั้งใจหากไม่ได้รับการจัดการอย่างเหมาะสม

บทเรียนนี้จะสำรวจความเสี่ยงด้านความปลอดภัยที่เกี่ยวข้องกับ MCP มากที่สุด — รวมถึงการตรวจสอบสิทธิ์ การอนุญาต สิทธิ์ที่เกินความจำเป็น การฉีดคำสั่งแบบอ้อม และช่องโหว่ในห่วงโซ่อุปทาน — พร้อมทั้งแนะนำมาตรการควบคุมและแนวทางปฏิบัติที่สามารถนำไปใช้ได้จริงเพื่อบรรเทาความเสี่ยงเหล่านี้ นอกจากนี้คุณยังจะได้เรียนรู้วิธีใช้โซลูชันของ Microsoft เช่น Prompt Shields, Azure Content Safety และ GitHub Advanced Security เพื่อเสริมความแข็งแกร่งให้กับการใช้งาน MCP ของคุณ ด้วยความเข้าใจและการประยุกต์ใช้มาตรการเหล่านี้ คุณจะลดโอกาสเกิดการละเมิดความปลอดภัยได้อย่างมากและทำให้ระบบ AI ของคุณมีความมั่นคงและน่าเชื่อถือ

# วัตถุประสงค์การเรียนรู้

เมื่อจบบทเรียนนี้ คุณจะสามารถ:

- ระบุและอธิบายความเสี่ยงด้านความปลอดภัยเฉพาะที่เกิดจาก Model Context Protocol (MCP) รวมถึงการฉีดคำสั่ง, การวางยาพิษเครื่องมือ, สิทธิ์ที่เกินความจำเป็น และช่องโหว่ในห่วงโซ่อุปทาน
- อธิบายและนำมาตรการควบคุมที่มีประสิทธิภาพมาใช้เพื่อลดความเสี่ยงด้านความปลอดภัยของ MCP เช่น การตรวจสอบสิทธิ์ที่เข้มงวด, การให้สิทธิ์น้อยที่สุด, การจัดการโทเค็นอย่างปลอดภัย และการตรวจสอบห่วงโซ่อุปทาน
- เข้าใจและใช้โซลูชันของ Microsoft เช่น Prompt Shields, Azure Content Safety และ GitHub Advanced Security เพื่อปกป้อง MCP และงาน AI
- ตระหนักถึงความสำคัญของการตรวจสอบข้อมูลเมตาของเครื่องมือ การติดตามการเปลี่ยนแปลงแบบไดนามิก และการป้องกันการโจมตีแบบฉีดคำสั่งแบบอ้อม
- ผนวกแนวทางปฏิบัติด้านความปลอดภัยที่ได้รับการยอมรับ เช่น การเขียนโค้ดอย่างปลอดภัย การเสริมความแข็งแกร่งของเซิร์ฟเวอร์ และสถาปัตยกรรม zero trust เข้ากับการใช้งาน MCP ของคุณเพื่อลดโอกาสและผลกระทบจากการละเมิดความปลอดภัย

# มาตรการควบคุมความปลอดภัยของ MCP

ระบบใดก็ตามที่เข้าถึงทรัพยากรสำคัญจะมีความท้าทายด้านความปลอดภัยโดยปริยาย ความท้าทายเหล่านี้โดยทั่วไปสามารถแก้ไขได้ด้วยการประยุกต์ใช้มาตรการควบคุมและแนวคิดด้านความปลอดภัยพื้นฐานอย่างถูกต้อง เนื่องจาก MCP เป็นโปรโตคอลที่เพิ่งถูกกำหนดขึ้นใหม่ ข้อกำหนดจึงเปลี่ยนแปลงอย่างรวดเร็วและพัฒนาไปเรื่อย ๆ ในที่สุดมาตรการควบคุมความปลอดภัยภายในโปรโตคอลนี้จะมีความสมบูรณ์มากขึ้น ทำให้สามารถผสานรวมกับสถาปัตยกรรมความปลอดภัยขององค์กรและแนวทางปฏิบัติที่ได้รับการยอมรับได้ดียิ่งขึ้น

งานวิจัยที่เผยแพร่ใน [Microsoft Digital Defense Report](https://aka.ms/mddr) ระบุว่า 98% ของการละเมิดที่รายงานสามารถป้องกันได้ด้วยการรักษาความสะอาดด้านความปลอดภัยอย่างเข้มงวด และการป้องกันที่ดีที่สุดต่อการละเมิดใด ๆ คือการมีพื้นฐานความปลอดภัยที่ดี การเขียนโค้ดอย่างปลอดภัย และความปลอดภัยของห่วงโซ่อุปทานที่ถูกต้อง — แนวทางปฏิบัติที่ผ่านการทดสอบและพิสูจน์แล้วเหล่านี้ยังคงมีผลมากที่สุดในการลดความเสี่ยงด้านความปลอดภัย

มาดูวิธีการบางอย่างที่คุณสามารถเริ่มต้นจัดการความเสี่ยงด้านความปลอดภัยเมื่อใช้ MCP

> **Note:** ข้อมูลต่อไปนี้ถูกต้อง ณ วันที่ **29 พฤษภาคม 2025** โปรโตคอล MCP ยังคงพัฒนาอย่างต่อเนื่อง และการใช้งานในอนาคตอาจมีรูปแบบการตรวจสอบสิทธิ์และมาตรการควบคุมใหม่ ๆ สำหรับข้อมูลและคำแนะนำล่าสุด โปรดดูที่ [MCP Specification](https://spec.modelcontextprotocol.io/) และที่เก็บโค้ด [MCP GitHub repository](https://github.com/modelcontextprotocol) รวมถึง [หน้าแนวทางปฏิบัติด้านความปลอดภัย](https://modelcontextprotocol.io/specification/draft/basic/security_best_practices)

### ปัญหาที่พบ  
ข้อกำหนด MCP ดั้งเดิมสมมติว่านักพัฒนาจะเขียนเซิร์ฟเวอร์ตรวจสอบสิทธิ์ของตนเอง ซึ่งต้องมีความรู้เกี่ยวกับ OAuth และข้อจำกัดด้านความปลอดภัยที่เกี่ยวข้อง เซิร์ฟเวอร์ MCP ทำหน้าที่เป็น OAuth 2.0 Authorization Servers จัดการการตรวจสอบสิทธิ์ผู้ใช้โดยตรงแทนที่จะมอบหมายให้บริการภายนอก เช่น Microsoft Entra ID ตั้งแต่วันที่ **26 เมษายน 2025** เป็นต้นมา ข้อกำหนด MCP ได้รับการอัปเดตให้เซิร์ฟเวอร์ MCP สามารถมอบหมายการตรวจสอบสิทธิ์ผู้ใช้ไปยังบริการภายนอกได้

### ความเสี่ยง
- การตั้งค่าการอนุญาตในเซิร์ฟเวอร์ MCP ผิดพลาดอาจทำให้ข้อมูลสำคัญรั่วไหลและการควบคุมการเข้าถึงถูกใช้งานผิดวิธี
- การขโมยโทเค็น OAuth บนเซิร์ฟเวอร์ MCP ท้องถิ่น หากถูกขโมย โทเค็นนั้นสามารถใช้แอบอ้างเป็นเซิร์ฟเวอร์ MCP เพื่อเข้าถึงทรัพยากรและข้อมูลจากบริการที่โทเค็น OAuth นั้นใช้ได้

#### Token Passthrough
การส่งผ่านโทเค็นโดยตรงถูกห้ามอย่างชัดเจนในข้อกำหนดการอนุญาตเนื่องจากก่อให้เกิดความเสี่ยงด้านความปลอดภัยหลายประการ ได้แก่:

#### การหลีกเลี่ยงมาตรการควบคุมความปลอดภัย
เซิร์ฟเวอร์ MCP หรือ API ปลายทางอาจมีมาตรการควบคุมความปลอดภัยสำคัญ เช่น การจำกัดอัตราการร้องขอ การตรวจสอบคำขอ หรือการตรวจสอบการจราจร ซึ่งขึ้นอยู่กับกลุ่มเป้าหมายของโทเค็นหรือข้อจำกัดของข้อมูลรับรองอื่น ๆ หากลูกค้าสามารถรับและใช้โทเค็นโดยตรงกับ API ปลายทางโดยไม่ผ่านการตรวจสอบจากเซิร์ฟเวอร์ MCP อย่างถูกต้อง หรือไม่แน่ใจว่าโทเค็นนั้นออกให้กับบริการที่ถูกต้อง พวกเขาจะหลีกเลี่ยงมาตรการควบคุมเหล่านี้ได้

#### ปัญหาด้านความรับผิดชอบและการตรวจสอบย้อนหลัง
เซิร์ฟเวอร์ MCP จะไม่สามารถระบุหรือแยกแยะระหว่างลูกค้า MCP ได้เมื่อมีการเรียกใช้ด้วยโทเค็นการเข้าถึงที่ออกโดยต้นทางซึ่งอาจไม่สามารถมองเห็นได้โดยเซิร์ฟเวอร์ MCP
บันทึกของเซิร์ฟเวอร์ทรัพยากรปลายทางอาจแสดงคำขอที่ดูเหมือนมาจากแหล่งอื่นที่มีตัวตนแตกต่างจากเซิร์ฟเวอร์ MCP ที่ส่งต่อโทเค็นจริง ๆ
ปัจจัยทั้งสองนี้ทำให้การสืบสวนเหตุการณ์ การควบคุม และการตรวจสอบย้อนหลังทำได้ยากขึ้น
หากเซิร์ฟเวอร์ MCP ส่งต่อโทเค็นโดยไม่ตรวจสอบคำอ้างสิทธิ์ (เช่น บทบาท สิทธิ์ หรือกลุ่มเป้าหมาย) หรือข้อมูลเมตาอื่น ๆ ผู้ไม่หวังดีที่ครอบครองโทเค็นที่ถูกขโมยสามารถใช้เซิร์ฟเวอร์เป็นพร็อกซีเพื่อขโมยข้อมูลได้

#### ปัญหาขอบเขตความเชื่อถือ
เซิร์ฟเวอร์ทรัพยากรปลายทางให้ความเชื่อถือกับเอนทิตีเฉพาะ ซึ่งอาจรวมถึงสมมติฐานเกี่ยวกับแหล่งที่มา หรือรูปแบบพฤติกรรมของลูกค้า การทำลายขอบเขตความเชื่อถือนี้อาจนำไปสู่ปัญหาที่ไม่คาดคิด
หากโทเค็นถูกยอมรับโดยหลายบริการโดยไม่มีการตรวจสอบอย่างเหมาะสม ผู้โจมตีที่เจาะบริการหนึ่งได้สามารถใช้โทเค็นนั้นเข้าถึงบริการอื่น ๆ ที่เชื่อมต่อกันได้

#### ความเสี่ยงด้านความเข้ากันได้ในอนาคต
แม้ว่าเซิร์ฟเวอร์ MCP จะเริ่มต้นเป็น “พร็อกซีบริสุทธิ์” ในวันนี้ แต่ในอนาคตอาจจำเป็นต้องเพิ่มมาตรการควบคุมความปลอดภัย การเริ่มต้นด้วยการแยกกลุ่มเป้าหมายของโทเค็นอย่างถูกต้องจะช่วยให้การพัฒนารูปแบบความปลอดภัยง่ายขึ้น

### มาตรการบรรเทาความเสี่ยง

**เซิร์ฟเวอร์ MCP ต้องไม่รับโทเค็นใด ๆ ที่ไม่ได้ออกให้โดยเฉพาะสำหรับเซิร์ฟเวอร์ MCP**

- **ตรวจสอบและเสริมความแข็งแกร่งของตรรกะการอนุญาต:** ตรวจสอบการใช้งานการอนุญาตของเซิร์ฟเวอร์ MCP อย่างละเอียดเพื่อให้แน่ใจว่ามีเพียงผู้ใช้และลูกค้าที่ตั้งใจเท่านั้นที่สามารถเข้าถึงทรัพยากรสำคัญได้ สำหรับคำแนะนำเชิงปฏิบัติ ดูที่ [Azure API Management Your Auth Gateway For MCP Servers | Microsoft Community Hub](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690) และ [Using Microsoft Entra ID To Authenticate With MCP Servers Via Sessions - Den Delimarsky](https://den.dev/blog/mcp-server-auth-entra-id-session/)
- **บังคับใช้แนวทางปฏิบัติการจัดการโทเค็นอย่างปลอดภัย:** ปฏิบัติตาม [แนวทางปฏิบัติที่ดีที่สุดของ Microsoft สำหรับการตรวจสอบและอายุของโทเค็น](https://learn.microsoft.com/en-us/entra/identity-platform/access-tokens) เพื่อป้องกันการใช้โทเค็นเข้าถึงในทางที่ผิดและลดความเสี่ยงจากการเล่นซ้ำหรือการขโมยโทเค็น
- **ปกป้องการจัดเก็บโทเค็น:** เก็บโทเค็นอย่างปลอดภัยเสมอและใช้การเข้ารหัสเพื่อปกป้องข้อมูลทั้งในขณะพักและขณะส่ง สำหรับคำแนะนำในการใช้งาน ดูที่ [Use secure token storage and encrypt tokens](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)

# สิทธิ์ที่เกินความจำเป็นสำหรับเซิร์ฟเวอร์ MCP

### ปัญหาที่พบ
เซิร์ฟเวอร์ MCP อาจได้รับสิทธิ์เกินความจำเป็นสำหรับบริการหรือทรัพยากรที่เข้าถึง เช่น เซิร์ฟเวอร์ MCP ที่เป็นส่วนหนึ่งของแอปพลิเคชัน AI ด้านการขายที่เชื่อมต่อกับคลังข้อมูลองค์กร ควรได้รับสิทธิ์เข้าถึงเฉพาะข้อมูลการขายเท่านั้น ไม่ควรได้รับสิทธิ์เข้าถึงไฟล์ทั้งหมดในคลังข้อมูล การอ้างอิงกลับไปยังหลักการให้สิทธิ์น้อยที่สุด (หนึ่งในหลักการความปลอดภัยที่เก่าแก่ที่สุด) ระบุว่าไม่มีทรัพยากรใดควรมีสิทธิ์เกินกว่าที่จำเป็นสำหรับการทำงานที่ตั้งใจไว้ AI สร้างความท้าทายเพิ่มขึ้นในด้านนี้เพราะเพื่อให้มีความยืดหยุ่น การกำหนดสิทธิ์ที่จำเป็นอย่างแม่นยำจึงทำได้ยาก

### ความเสี่ยง  
- การให้สิทธิ์เกินความจำเป็นอาจทำให้เกิดการขโมยหรือแก้ไขข้อมูลที่เซิร์ฟเวอร์ MCP ไม่ควรเข้าถึงได้ นอกจากนี้ยังอาจเป็นปัญหาด้านความเป็นส่วนตัวหากข้อมูลนั้นเป็นข้อมูลส่วนบุคคล (PII)

### มาตรการบรรเทาความเสี่ยง
- **ใช้หลักการให้สิทธิ์น้อยที่สุด:** ให้สิทธิ์เซิร์ฟเวอร์ MCP เฉพาะที่จำเป็นสำหรับการทำงานที่ต้องการเท่านั้น ทบทวนและปรับปรุงสิทธิ์เหล่านี้อย่างสม่ำเสมอเพื่อให้แน่ใจว่าไม่เกินความจำเป็น สำหรับคำแนะนำโดยละเอียด ดูที่ [Secure least-privileged access](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- **ใช้การควบคุมการเข้าถึงตามบทบาท (RBAC):** กำหนดบทบาทให้กับเซิร์ฟเวอร์ MCP ที่มีขอบเขตจำกัดเฉพาะทรัพยากรและการกระทำที่เจาะจง หลีกเลี่ยงการให้สิทธิ์กว้างหรือไม่จำเป็น
- **ติดตามและตรวจสอบสิทธิ์:** ตรวจสอบการใช้งานสิทธิ์อย่างต่อเนื่องและตรวจสอบบันทึกการเข้าถึงเพื่อค้นหาและแก้ไขสิทธิ์ที่เกินความจำเป็นหรือไม่ได้ใช้งานอย่างรวดเร็ว

# การโจมตีแบบฉีดคำสั่งแบบอ้อม

### ปัญหาที่พบ

เซิร์ฟเวอร์ MCP ที่ถูกโจมตีหรือถูกแทรกแซงสามารถสร้างความเสี่ยงอย่างมากโดยการเปิดเผยข้อมูลลูกค้าหรือทำให้เกิดการกระทำที่ไม่ตั้งใจ ความเสี่ยงเหล่านี้มีความสำคัญโดยเฉพาะในงาน AI และงานที่ใช้ MCP ซึ่งได้แก่:

- **การโจมตีแบบฉีดคำสั่ง (Prompt Injection Attacks):** ผู้โจมตีฝังคำสั่งที่เป็นอันตรายลงในคำสั่งหรือเนื้อหาภายนอก ทำให้ระบบ AI ทำงานที่ไม่ตั้งใจหรือรั่วไหลข้อมูลสำคัญ เรียนรู้เพิ่มเติม: [Prompt Injection](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)
- **การวางยาพิษเครื่องมือ (Tool Poisoning):** ผู้โจมตีแก้ไขข้อมูลเมตาของเครื่องมือ (เช่น คำอธิบายหรือพารามิเตอร์) เพื่อมีอิทธิพลต่อพฤติกรรมของ AI อาจทำให้หลีกเลี่ยงมาตรการควบคุมความปลอดภัยหรือขโมยข้อมูล รายละเอียด: [Tool Poisoning](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)
- **การฉีดคำสั่งข้ามโดเมน (Cross-Domain Prompt Injection):** คำสั่งที่เป็นอันตรายถูกฝังในเอกสาร เว็บเพจ หรืออีเมล ซึ่งถูกประมวลผลโดย AI ทำให้เกิดการรั่วไหลหรือการแก้ไขข้อมูล
- **การแก้ไขเครื่องมือแบบไดนามิก (Rug Pulls):** คำจำกัดความของเครื่องมือสามารถเปลี่ยนแปลงหลังจากได้รับการอนุมัติจากผู้ใช้ ทำให้เกิดพฤติกรรมที่เป็นอันตรายใหม่ ๆ โดยที่ผู้ใช้ไม่รู้ตัว

ช่องโหว่เหล่านี้เน้นย้ำถึงความจำเป็นในการตรวจสอบอย่างเข้มงวด การติดตาม และมาตรการควบคุมความปลอดภัยเมื่อผสานรวมเซิร์ฟเวอร์ MCP และเครื่องมือเข้ากับสภาพแวดล้อมของคุณ สำหรับข้อมูลเชิงลึกเพิ่มเติม โปรดดูแหล่งอ้างอิงที่แนบมา

![prompt-injection-lg-2048x1034](../../../translated_images/prompt-injection.ed9fbfde297ca877c15bc6daa808681cd3c3dc7bf27bbbda342ef1ba5fc4f52d.th.png)

**การฉีดคำสั่งแบบอ้อม (Indirect Prompt Injection)** หรือที่รู้จักกันในชื่อการฉีดคำสั่งข้ามโดเมน (XPIA) เป็นช่องโหว่ร้ายแรงในระบบ AI สร้างสรรค์ รวมถึงระบบที่ใช้ Model Context Protocol (MCP) ในการโจมตีนี้ คำสั่งที่เป็นอันตรายจะถูกซ่อนไว้ในเนื้อหาภายนอก เช่น เอกสาร เว็บเพจ หรืออีเมล เมื่อระบบ AI ประมวลผลเนื้อหานี้ อาจตีความคำสั่งที่ฝังอยู่เป็นคำสั่งของผู้ใช้ที่ถูกต้อง ส่งผลให้เกิดการกระทำที่ไม่ตั้งใจ เช่น การรั่วไหลของข้อมูล การสร้างเนื้อหาที่เป็นอันตราย หรือการ
ความปลอดภัยของห่วงโซ่อุปทานยังคงเป็นสิ่งสำคัญในยุค AI แต่ขอบเขตของสิ่งที่ถือเป็นห่วงโซ่อุปทานของคุณได้ขยายออกไป นอกจากแพ็กเกจโค้ดแบบดั้งเดิมแล้ว คุณต้องตรวจสอบและติดตามส่วนประกอบที่เกี่ยวข้องกับ AI ทั้งหมดอย่างเข้มงวด รวมถึงโมเดลพื้นฐาน บริการ embeddings ผู้ให้บริการบริบท และ API จากบุคคลที่สาม แต่ละส่วนเหล่านี้อาจนำมาซึ่งช่องโหว่หรือความเสี่ยงหากไม่ได้รับการจัดการอย่างเหมาะสม

**แนวปฏิบัติสำคัญด้านความปลอดภัยของห่วงโซ่อุปทานสำหรับ AI และ MCP:**
- **ตรวจสอบส่วนประกอบทั้งหมดก่อนการรวมเข้าด้วยกัน:** ไม่เพียงแต่ไลบรารีโอเพนซอร์สเท่านั้น แต่ยังรวมถึงโมเดล AI แหล่งข้อมูล และ API ภายนอก ตรวจสอบแหล่งที่มา สิทธิ์การใช้งาน และช่องโหว่ที่ทราบอยู่เสมอ
- **รักษาเส้นทางการปรับใช้ให้ปลอดภัย:** ใช้ CI/CD อัตโนมัติที่มีการสแกนความปลอดภัยในตัวเพื่อจับปัญหาได้ตั้งแต่เนิ่นๆ และมั่นใจว่าเฉพาะชิ้นงานที่เชื่อถือได้เท่านั้นที่จะถูกปรับใช้ในสภาพแวดล้อมจริง
- **ติดตามและตรวจสอบอย่างต่อเนื่อง:** ดำเนินการติดตามอย่างต่อเนื่องสำหรับทุกการพึ่งพา รวมถึงโมเดลและบริการข้อมูล เพื่อค้นหาช่องโหว่ใหม่หรือการโจมตีห่วงโซ่อุปทาน
- **ใช้หลักการสิทธิ์น้อยที่สุดและควบคุมการเข้าถึง:** จำกัดการเข้าถึงโมเดล ข้อมูล และบริการเฉพาะสิ่งที่จำเป็นสำหรับการทำงานของ MCP server เท่านั้น
- **ตอบสนองต่อภัยคุกคามอย่างรวดเร็ว:** มีขั้นตอนสำหรับการแก้ไขหรือเปลี่ยนส่วนประกอบที่ถูกโจมตี และหมุนเวียนความลับหรือข้อมูลรับรองหากตรวจพบการละเมิด

[GitHub Advanced Security](https://github.com/security/advanced-security) มีฟีเจอร์เช่น การสแกนความลับ การสแกนการพึ่งพา และการวิเคราะห์ CodeQL เครื่องมือเหล่านี้ผสานรวมกับ [Azure DevOps](https://azure.microsoft.com/en-us/products/devops) และ [Azure Repos](https://azure.microsoft.com/en-us/products/devops/repos/) เพื่อช่วยทีมในการระบุและลดช่องโหว่ทั้งในโค้ดและส่วนประกอบห่วงโซ่อุปทาน AI

Microsoft ยังดำเนินการแนวปฏิบัติด้านความปลอดภัยห่วงโซ่อุปทานอย่างเข้มงวดภายในสำหรับผลิตภัณฑ์ทั้งหมด เรียนรู้เพิ่มเติมได้ที่ [The Journey to Secure the Software Supply Chain at Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)


# แนวปฏิบัติด้านความปลอดภัยที่ได้รับการยอมรับซึ่งจะช่วยยกระดับความมั่นคงปลอดภัยของการใช้งาน MCP ของคุณ

การใช้งาน MCP ใดๆ จะสืบทอดสถานะความปลอดภัยที่มีอยู่ของสภาพแวดล้อมองค์กรที่สร้างขึ้น ดังนั้นเมื่อพิจารณาความปลอดภัยของ MCP ในฐานะส่วนประกอบของระบบ AI โดยรวม ขอแนะนำให้คุณยกระดับสถานะความปลอดภัยโดยรวมที่มีอยู่ แนวควบคุมความปลอดภัยที่ได้รับการยอมรับต่อไปนี้มีความเกี่ยวข้องอย่างยิ่ง:

-   แนวปฏิบัติการเขียนโค้ดที่ปลอดภัยในแอปพลิเคชัน AI ของคุณ — ป้องกัน [the OWASP Top 10](https://owasp.org/www-project-top-ten/), [OWASP Top 10 for LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559), การใช้คลังเก็บความลับที่ปลอดภัยสำหรับความลับและโทเค็น, การสื่อสารที่ปลอดภัยแบบ end-to-end ระหว่างส่วนประกอบแอปพลิเคชันทั้งหมด เป็นต้น
-   การเสริมความแข็งแกร่งของเซิร์ฟเวอร์ — ใช้ MFA เมื่อเป็นไปได้ อัปเดตแพตช์อย่างสม่ำเสมอ รวมเซิร์ฟเวอร์กับผู้ให้บริการตัวตนภายนอกสำหรับการเข้าถึง เป็นต้น
-   รักษาอุปกรณ์ โครงสร้างพื้นฐาน และแอปพลิเคชันให้อัปเดตด้วยแพตช์ล่าสุด
-   การติดตามความปลอดภัย — ดำเนินการบันทึกและติดตามแอปพลิเคชัน AI (รวมถึง MCP client/servers) และส่งบันทึกเหล่านั้นไปยัง SIEM กลางเพื่อค้นหากิจกรรมผิดปกติ
-   สถาปัตยกรรม Zero trust — แยกส่วนประกอบผ่านการควบคุมเครือข่ายและตัวตนอย่างมีเหตุผลเพื่อลดการเคลื่อนที่ในแนวราบหากแอปพลิเคชัน AI ถูกโจมตี

# สาระสำคัญ

- พื้นฐานความปลอดภัยยังคงสำคัญ: การเขียนโค้ดที่ปลอดภัย สิทธิ์น้อยที่สุด การตรวจสอบห่วงโซ่อุปทาน และการติดตามอย่างต่อเนื่องเป็นสิ่งจำเป็นสำหรับ MCP และงาน AI
- MCP นำความเสี่ยงใหม่ๆ เช่น การฉีด prompt, การวางยาพิษเครื่องมือ และสิทธิ์ที่เกินจำเป็น ซึ่งต้องใช้การควบคุมทั้งแบบดั้งเดิมและเฉพาะ AI
- ใช้การพิสูจน์ตัวตน การอนุญาต และการจัดการโทเค็นที่แข็งแกร่ง โดยใช้ผู้ให้บริการตัวตนภายนอกเช่น Microsoft Entra ID เมื่อเป็นไปได้
- ป้องกันการฉีด prompt ทางอ้อมและการวางยาพิษเครื่องมือโดยการตรวจสอบเมตาดาต้าของเครื่องมือ ติดตามการเปลี่ยนแปลงแบบไดนามิก และใช้โซลูชันเช่น Microsoft Prompt Shields
- ปฏิบัติต่อส่วนประกอบทั้งหมดในห่วงโซ่อุปทาน AI ของคุณ — รวมถึงโมเดล embeddings และผู้ให้บริการบริบท — ด้วยความเข้มงวดเทียบเท่ากับการพึ่งพาโค้ด
- ติดตามมาตรฐาน MCP ที่พัฒนาอย่างต่อเนื่องและมีส่วนร่วมกับชุมชนเพื่อช่วยกำหนดมาตรฐานความปลอดภัย

# แหล่งข้อมูลเพิ่มเติม

- [Microsoft Digital Defense Report](https://aka.ms/mddr)
- [MCP Specification](https://spec.modelcontextprotocol.io/)
- [Prompt Injection in MCP (Simon Willison)](https://simonwillison.net/2025/Apr/9/mcp-prompt-injection/)
- [Tool Poisoning Attacks (Invariant Labs)](https://invariantlabs.ai/blog/mcp-security-notification-tool-poisoning-attacks)
- [Rug Pulls in MCP (Wiz Security)](https://www.wiz.io/blog/mcp-security-research-briefing#remote-servers-22)
- [Prompt Shields Documentation (Microsoft)](https://learn.microsoft.com/azure/ai-services/content-safety/concepts/jailbreak-detection)
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [OWASP Top 10 for LLMs](https://genai.owasp.org/download/43299/?tmstv=1731900559)
- [GitHub Advanced Security](https://github.com/security/advanced-security)
- [Azure DevOps](https://azure.microsoft.com/products/devops)
- [Azure Repos](https://azure.microsoft.com/products/devops/repos/)
- [The Journey to Secure the Software Supply Chain at Microsoft](https://devblogs.microsoft.com/engineering-at-microsoft/the-journey-to-secure-the-software-supply-chain-at-microsoft/)
- [Secure Least-Privileged Access (Microsoft)](https://learn.microsoft.com/entra/identity-platform/secure-least-privileged-access)
- [Best Practices for Token Validation and Lifetime](https://learn.microsoft.com/entra/identity-platform/access-tokens)
- [Use Secure Token Storage and Encrypt Tokens (YouTube)](https://youtu.be/uRdX37EcCwg?si=6fSChs1G4glwXRy2)
- [Azure API Management as Auth Gateway for MCP](https://techcommunity.microsoft.com/blog/integrationsonazureblog/azure-api-management-your-auth-gateway-for-mcp-servers/4402690)
- [MCP Security Best Practice](https://modelcontextprotocol.io/specification/draft/basic/security_best_practices)
- [Using Microsoft Entra ID to Authenticate with MCP Servers](https://den.dev/blog/mcp-server-auth-entra-id-session/)

### ถัดไป

ถัดไป: [Chapter 3: Getting Started](../03-GettingStarted/README.md)

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษาอัตโนมัติ [Co-op Translator](https://github.com/Azure/co-op-translator) แม้เราจะพยายามให้ความถูกต้องสูงสุด แต่โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่ถูกต้อง เอกสารต้นฉบับในภาษาต้นทางถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่สำคัญ ขอแนะนำให้ใช้บริการแปลโดยผู้เชี่ยวชาญมนุษย์ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความผิดใด ๆ ที่เกิดจากการใช้การแปลนี้