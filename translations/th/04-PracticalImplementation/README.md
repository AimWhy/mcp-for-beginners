<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "0e1385a3fadf16bacd2f863757bcf5e0",
  "translation_date": "2025-05-17T13:52:41+00:00",
  "source_file": "04-PracticalImplementation/README.md",
  "language_code": "th"
}
-->
# การใช้งานจริง

การใช้งานจริงคือจุดที่พลังของ Model Context Protocol (MCP) กลายเป็นสิ่งที่จับต้องได้ ในขณะที่การเข้าใจทฤษฎีและสถาปัตยกรรมเบื้องหลัง MCP เป็นสิ่งสำคัญ แต่คุณค่าที่แท้จริงจะปรากฏเมื่อคุณนำแนวคิดเหล่านี้ไปใช้เพื่อสร้าง ทดสอบ และปรับใช้โซลูชันที่แก้ปัญหาในโลกจริง บทนี้จะเป็นสะพานเชื่อมระหว่างความรู้เชิงแนวคิดกับการพัฒนาเชิงปฏิบัติ โดยนำทางคุณผ่านกระบวนการสร้างแอปพลิเคชันที่ใช้ MCP ขึ้นมา

ไม่ว่าคุณจะพัฒนาอุปกรณ์ช่วยอัจฉริยะ ผสาน AI เข้ากับการทำงานของธุรกิจ หรือสร้างเครื่องมือเฉพาะสำหรับการประมวลผลข้อมูล MCP จะให้ฐานที่ยืดหยุ่น การออกแบบที่ไม่ขึ้นกับภาษาและ SDK อย่างเป็นทางการสำหรับภาษาการเขียนโปรแกรมยอดนิยมทำให้มันเข้าถึงได้สำหรับนักพัฒนาหลากหลายกลุ่ม ด้วยการใช้ประโยชน์จาก SDK เหล่านี้ คุณสามารถสร้างต้นแบบได้อย่างรวดเร็ว ทำซ้ำ และขยายโซลูชันของคุณในแพลตฟอร์มและสภาพแวดล้อมต่างๆ

ในส่วนต่อไปนี้ คุณจะพบตัวอย่างการใช้งานจริง โค้ดตัวอย่าง และกลยุทธ์การปรับใช้ที่แสดงวิธีการใช้งาน MCP ใน C#, Java, TypeScript, JavaScript, และ Python คุณจะได้เรียนรู้วิธีการดีบักและทดสอบเซิร์ฟเวอร์ MCP จัดการ API และปรับใช้โซลูชันบนคลาวด์โดยใช้ Azure ทรัพยากรเชิงปฏิบัติเหล่านี้ถูกออกแบบมาเพื่อเร่งการเรียนรู้ของคุณและช่วยให้คุณสร้างแอปพลิเคชัน MCP ที่มีความพร้อมใช้งานในระดับผลิตได้อย่างมั่นใจ

## ภาพรวม

บทเรียนนี้มุ่งเน้นที่แง่มุมการใช้งานจริงของ MCP ในหลายภาษาการเขียนโปรแกรม เราจะสำรวจวิธีการใช้ MCP SDK ใน C#, Java, TypeScript, JavaScript, และ Python เพื่อสร้างแอปพลิเคชันที่มีความแข็งแรง ดีบักและทดสอบเซิร์ฟเวอร์ MCP และสร้างทรัพยากร เทมเพลต และเครื่องมือที่นำกลับมาใช้ใหม่ได้

## วัตถุประสงค์การเรียนรู้

เมื่อจบบทเรียนนี้ คุณจะสามารถ:
- ใช้งานโซลูชัน MCP โดยใช้ SDK อย่างเป็นทางการในภาษาการเขียนโปรแกรมต่างๆ
- ดีบักและทดสอบเซิร์ฟเวอร์ MCP อย่างเป็นระบบ
- สร้างและใช้คุณสมบัติเซิร์ฟเวอร์ (ทรัพยากร เทมเพลต และเครื่องมือ)
- ออกแบบกระบวนการทำงาน MCP ที่มีประสิทธิภาพสำหรับงานที่ซับซ้อน
- ปรับปรุงการใช้งาน MCP เพื่อประสิทธิภาพและความน่าเชื่อถือ

## แหล่งข้อมูล SDK อย่างเป็นทางการ

Model Context Protocol มี SDK อย่างเป็นทางการสำหรับหลายภาษา:

- [C# SDK](https://github.com/modelcontextprotocol/csharp-sdk)
- [Java SDK](https://github.com/modelcontextprotocol/java-sdk) 
- [TypeScript SDK](https://github.com/modelcontextprotocol/typescript-sdk)
- [Python SDK](https://github.com/modelcontextprotocol/python-sdk)
- [Kotlin SDK](https://github.com/modelcontextprotocol/kotlin-sdk)

## การทำงานกับ MCP SDKs

ส่วนนี้ให้ตัวอย่างการใช้งาน MCP ในหลายภาษาการเขียนโปรแกรม คุณสามารถพบโค้ดตัวอย่างในไดเรกทอรี `samples` ที่จัดเรียงตามภาษา

### ตัวอย่างที่มีอยู่

ที่เก็บรวมตัวอย่างการใช้งานในภาษาต่อไปนี้:

- C#
- Java
- TypeScript
- JavaScript
- Python

แต่ละตัวอย่างแสดงแนวคิดหลักของ MCP และรูปแบบการใช้งานสำหรับภาษานั้นและระบบนิเวศ

## คุณสมบัติหลักของเซิร์ฟเวอร์

เซิร์ฟเวอร์ MCP สามารถใช้งานคุณสมบัติเหล่านี้ในรูปแบบใดก็ได้:

### ทรัพยากร
ทรัพยากรให้บริบทและข้อมูลสำหรับผู้ใช้หรือโมเดล AI ที่จะใช้:
- ที่เก็บเอกสาร
- ฐานความรู้
- แหล่งข้อมูลที่มีโครงสร้าง
- ระบบไฟล์

### เทมเพลต
เทมเพลตเป็นข้อความและกระบวนการที่กำหนดรูปแบบสำหรับผู้ใช้:
- เทมเพลตการสนทนาที่กำหนดไว้ล่วงหน้า
- รูปแบบการโต้ตอบที่แนะนำ
- โครงสร้างบทสนทนาพิเศษ

### เครื่องมือ
เครื่องมือเป็นฟังก์ชันที่โมเดล AI สามารถดำเนินการได้:
- เครื่องมือการประมวลผลข้อมูล
- การผสาน API ภายนอก
- ความสามารถในการคำนวณ
- การค้นหาฟังก์ชัน

## ตัวอย่างการใช้งาน: C#

ที่เก็บ C# SDK อย่างเป็นทางการมีตัวอย่างการใช้งานหลายตัวอย่างที่แสดงแง่มุมต่างๆ ของ MCP:

- **ลูกค้า MCP พื้นฐาน**: ตัวอย่างง่ายๆ ที่แสดงวิธีการสร้างลูกค้า MCP และเรียกใช้เครื่องมือ
- **เซิร์ฟเวอร์ MCP พื้นฐาน**: การใช้งานเซิร์ฟเวอร์ที่เรียบง่ายพร้อมการลงทะเบียนเครื่องมือพื้นฐาน
- **เซิร์ฟเวอร์ MCP ขั้นสูง**: เซิร์ฟเวอร์เต็มรูปแบบพร้อมการลงทะเบียนเครื่องมือ การตรวจสอบสิทธิ์ และการจัดการข้อผิดพลาด
- **การผสาน ASP.NET**: ตัวอย่างที่แสดงการผสานกับ ASP.NET Core
- **รูปแบบการใช้งานเครื่องมือ**: รูปแบบต่างๆ สำหรับการใช้งานเครื่องมือที่มีระดับความซับซ้อนต่างกัน

C# SDK ของ MCP อยู่ในขั้นตอนการพรีวิวและ API อาจมีการเปลี่ยนแปลง เราจะอัปเดตบล็อกนี้อย่างต่อเนื่องเมื่อ SDK มีการพัฒนา

### คุณสมบัติหลัก 
- [C# MCP Nuget ModelContextProtocol](https://www.nuget.org/packages/ModelContextProtocol)

- สร้าง [เซิร์ฟเวอร์ MCP แรกของคุณ](https://devblogs.microsoft.com/dotnet/build-a-model-context-protocol-mcp-server-in-csharp/).

สำหรับตัวอย่างการใช้งาน C# ทั้งหมด เยี่ยมชม [ที่เก็บตัวอย่าง C# SDK อย่างเป็นทางการ](https://github.com/modelcontextprotocol/csharp-sdk)

## ตัวอย่างการใช้งาน: การใช้งาน Java

Java SDK มีตัวเลือกการใช้งาน MCP ที่แข็งแรงพร้อมคุณสมบัติระดับองค์กร

### คุณสมบัติหลัก

- การผสานกับ Spring Framework
- ความปลอดภัยของประเภทที่แข็งแรง
- การสนับสนุนการเขียนโปรแกรมแบบ Reactive
- การจัดการข้อผิดพลาดที่ครอบคลุม

สำหรับตัวอย่างการใช้งาน Java แบบเต็ม ดู [MCPSample.java](../../../04-PracticalImplementation/samples/java/MCPSample.java) ในไดเรกทอรีตัวอย่าง

## ตัวอย่างการใช้งาน: การใช้งาน JavaScript

JavaScript SDK ให้วิธีการที่เบาและยืดหยุ่นในการใช้งาน MCP

### คุณสมบัติหลัก

- การสนับสนุน Node.js และเบราว์เซอร์
- API ที่ใช้ Promise
- การผสานง่ายกับ Express และเฟรมเวิร์กอื่นๆ
- การสนับสนุน WebSocket สำหรับการสตรีม

สำหรับตัวอย่างการใช้งาน JavaScript แบบเต็ม ดู [mcp_sample.js](../../../04-PracticalImplementation/samples/javascript/mcp_sample.js) ในไดเรกทอรีตัวอย่าง

## ตัวอย่างการใช้งาน: การใช้งาน Python

Python SDK ให้วิธีการแบบ Pythonic ในการใช้งาน MCP พร้อมการผสานที่ยอดเยี่ยมกับเฟรมเวิร์ก ML

### คุณสมบัติหลัก

- การสนับสนุน Async/await ด้วย asyncio
- การผสานกับ Flask และ FastAPI
- การลงทะเบียนเครื่องมือที่ง่าย
- การผสานเนทีฟกับไลบรารี ML ยอดนิยม

สำหรับตัวอย่างการใช้งาน Python แบบเต็ม ดู [mcp_sample.py](../../../04-PracticalImplementation/samples/python/mcp_sample.py) ในไดเรกทอรีตัวอย่าง

## การจัดการ API

Azure API Management เป็นคำตอบที่ดีสำหรับวิธีการรักษาความปลอดภัยให้กับเซิร์ฟเวอร์ MCP แนวคิดคือการวาง Azure API Management ไว้หน้าเซิร์ฟเวอร์ MCP ของคุณและให้มันจัดการคุณสมบัติที่คุณต้องการ เช่น:

- การจำกัดอัตรา
- การจัดการโทเค็น
- การตรวจสอบ
- การปรับสมดุลโหลด
- ความปลอดภัย

### ตัวอย่าง Azure

นี่คือตัวอย่าง Azure ที่ทำเช่นนั้น, [สร้างเซิร์ฟเวอร์ MCP และรักษาความปลอดภัยด้วย Azure API Management](https://github.com/Azure-Samples/remote-mcp-apim-functions-python).

ดูวิธีการไหลของการอนุญาตในภาพด้านล่าง:

![APIM-MCP](https://github.com/Azure-Samples/remote-mcp-apim-functions-python/blob/main/mcp-client-authorization.gif?raw=true) 

ในภาพก่อนหน้า สิ่งต่อไปนี้เกิดขึ้น:

- การตรวจสอบสิทธิ์/การอนุญาตเกิดขึ้นโดยใช้ Microsoft Entra
- Azure API Management ทำหน้าที่เป็นเกตเวย์และใช้การนโยบายในการกำหนดและจัดการการจราจร
- Azure Monitor บันทึกคำขอทั้งหมดเพื่อการวิเคราะห์เพิ่มเติม

#### การไหลของการอนุญาต

มาดูการไหลของการอนุญาตให้ละเอียดขึ้น:

![Sequence Diagram](https://github.com/Azure-Samples/remote-mcp-apim-functions-python/blob/main/infra/app/apim-oauth/diagrams/images/mcp-client-auth.png?raw=true)

#### ข้อกำหนดการอนุญาต MCP

เรียนรู้เพิ่มเติมเกี่ยวกับ [ข้อกำหนดการอนุญาต MCP](https://modelcontextprotocol.io/specification/2025-03-26/basic/authorization#2-10-third-party-authorization-flow)

## การปรับใช้เซิร์ฟเวอร์ MCP ระยะไกลไปยัง Azure

มาดูกันว่าเราสามารถปรับใช้ตัวอย่างที่เราได้กล่าวถึงก่อนหน้านี้หรือไม่:

1. โคลนที่เก็บ

    ```bash
    git clone https://github.com/Azure-Samples/remote-mcp-apim-functions-python.git
    cd remote-mcp-apim-functions-python
    ```

1. ลงทะเบียน `Microsoft.App` resource provider.
    * If you are using Azure CLI, run `az provider register --namespace Microsoft.App --wait`.
    * If you are using Azure PowerShell, run `Register-AzResourceProvider -ProviderNamespace Microsoft.App`. Then run `(Get-AzResourceProvider -ProviderNamespace Microsoft.App).RegistrationState` หลังจากเวลาผ่านไปเพื่อเช็คว่าการลงทะเบียนเสร็จสมบูรณ์หรือไม่

2. รันคำสั่ง [azd](https://aka.ms/azd) นี้เพื่อเตรียมบริการการจัดการ api, function app(พร้อมโค้ด) และทรัพยากร Azure อื่นๆ ที่จำเป็น

    ```shell
    azd up
    ```

    คำสั่งนี้ควรปรับใช้ทรัพยากรคลาวด์ทั้งหมดบน Azure

### ทดสอบเซิร์ฟเวอร์ของคุณด้วย MCP Inspector

1. ใน **หน้าต่างเทอร์มินอลใหม่** ติดตั้งและรัน MCP Inspector

    ```shell
    npx @modelcontextprotocol/inspector
    ```

    คุณควรเห็นอินเทอร์เฟซที่คล้ายกับ:

    ![Connect to Node inspector](../../../translated_images/connect.126df3a6deef0d2e0850b1a5cf0547c8fc4e2e9e0b354238d0a9dbe7893726fa.th.png)

1. CTRL คลิกเพื่อโหลดแอปเว็บ MCP Inspector จาก URL ที่แสดงโดยแอป (เช่น http://127.0.0.1:6274/#resources)
1. ตั้งค่าประเภทการขนส่งเป็น `SSE`
1. Set the URL to your running API Management SSE endpoint displayed after `azd up` และ **เชื่อมต่อ**:

    ```shell
    https://<apim-servicename-from-azd-output>.azure-api.net/mcp/sse
    ```

5. **รายการเครื่องมือ** คลิกที่เครื่องมือและ **รันเครื่องมือ**

หากขั้นตอนทั้งหมดทำงาน คุณควรจะเชื่อมต่อกับเซิร์ฟเวอร์ MCP และคุณได้เรียกใช้เครื่องมือแล้ว

## เซิร์ฟเวอร์ MCP สำหรับ Azure 

[Remote-mcp-functions](https://github.com/Azure-Samples/remote-mcp-functions-dotnet): ชุดที่เก็บเหล่านี้เป็นเทมเพลตเริ่มต้นอย่างรวดเร็วสำหรับการสร้างและปรับใช้เซิร์ฟเวอร์ MCP (Model Context Protocol) ระยะไกลที่กำหนดเองโดยใช้ Azure Functions กับ Python, C# .NET หรือ Node/TypeScript

ตัวอย่างนี้ให้โซลูชันที่สมบูรณ์ที่ช่วยให้นักพัฒนาสามารถ:

- สร้างและรันในเครื่อง: พัฒนาและดีบักเซิร์ฟเวอร์ MCP บนเครื่องในท้องถิ่น
- ปรับใช้ไปยัง Azure: ปรับใช้ไปยังคลาวด์ได้ง่ายด้วยคำสั่ง azd up ง่ายๆ
- เชื่อมต่อจากลูกค้า: เชื่อมต่อกับเซิร์ฟเวอร์ MCP จากลูกค้าต่างๆ รวมถึงโหมดตัวแทนของ VS Code's Copilot และเครื่องมือ MCP Inspector

### คุณสมบัติหลัก:

- ความปลอดภัยโดยการออกแบบ: เซิร์ฟเวอร์ MCP มีความปลอดภัยโดยใช้คีย์และ HTTPS
- ตัวเลือกการตรวจสอบสิทธิ์: รองรับ OAuth โดยใช้การตรวจสอบสิทธิ์ในตัวและ/หรือการจัดการ API
- การแยกเครือข่าย: อนุญาตการแยกเครือข่ายโดยใช้ Azure Virtual Networks (VNET)
- สถาปัตยกรรมไร้เซิร์ฟเวอร์: ใช้ Azure Functions สำหรับการดำเนินการที่สามารถปรับขนาดได้และขับเคลื่อนด้วยเหตุการณ์
- การพัฒนาในเครื่อง: การสนับสนุนการพัฒนาและดีบักในเครื่องที่ครอบคลุม
- การปรับใช้ที่ง่าย: กระบวนการปรับใช้ที่คล่องตัวไปยัง Azure

ที่เก็บรวมไฟล์การกำหนดค่าทั้งหมด, โค้ดต้นฉบับ, และการนิยามโครงสร้างพื้นฐานเพื่อเริ่มต้นได้อย่างรวดเร็วกับการใช้งานเซิร์ฟเวอร์ MCP ที่พร้อมใช้งานในระดับผลิต

- [Azure Remote MCP Functions Python](https://github.com/Azure-Samples/remote-mcp-functions-python) - ตัวอย่างการใช้งาน MCP โดยใช้ Azure Functions กับ Python

- [Azure Remote MCP Functions .NET](https://github.com/Azure-Samples/remote-mcp-functions-dotnet) - ตัวอย่างการใช้งาน MCP โดยใช้ Azure Functions กับ C# .NET

- [Azure Remote MCP Functions Node/Typescript](https://github.com/Azure-Samples/remote-mcp-functions-typescript) - ตัวอย่างการใช้งาน MCP โดยใช้ Azure Functions กับ Node/TypeScript

## ประเด็นสำคัญ

- MCP SDKs ให้เครื่องมือเฉพาะภาษาสำหรับการใช้งานโซลูชัน MCP ที่แข็งแรง
- กระบวนการดีบักและทดสอบมีความสำคัญต่อแอปพลิเคชัน MCP ที่เชื่อถือได้
- เทมเพลตการสนทนาที่นำกลับมาใช้ใหม่ได้ช่วยให้การโต้ตอบกับ AI สอดคล้องกัน
- กระบวนการทำงานที่ออกแบบมาอย่างดีสามารถจัดการงานที่ซับซ้อนโดยใช้เครื่องมือหลายตัว
- การใช้งานโซลูชัน MCP ต้องพิจารณาเรื่องความปลอดภัย ประสิทธิภาพ และการจัดการข้อผิดพลาด

## แบบฝึกหัด

ออกแบบกระบวนการทำงาน MCP ที่แก้ปัญหาในโลกจริงในโดเมนของคุณ:

1. ระบุเครื่องมือ 3-4 ตัวที่มีประโยชน์ในการแก้ปัญหานี้
2. สร้างแผนภาพกระบวนการทำงานที่แสดงวิธีการที่เครื่องมือเหล่านี้โต้ตอบกัน
3. ใช้งานเวอร์ชันพื้นฐานของหนึ่งในเครื่องมือโดยใช้ภาษาที่คุณเลือก
4. สร้างเทมเพลตการสนทนาที่จะช่วยให้โมเดลใช้เครื่องมือของคุณได้อย่างมีประสิทธิภาพ

## แหล่งข้อมูลเพิ่มเติม

---

ถัดไป: [หัวข้อขั้นสูง](../05-AdvancedTopics/README.md)

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษา AI [Co-op Translator](https://github.com/Azure/co-op-translator) แม้ว่าเราจะพยายามให้เกิดความแม่นยำ โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่ถูกต้อง เอกสารต้นฉบับในภาษาต้นฉบับควรถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลสำคัญ แนะนำให้ใช้บริการแปลภาษามนุษย์มืออาชีพ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความผิดที่เกิดจากการใช้การแปลนี้