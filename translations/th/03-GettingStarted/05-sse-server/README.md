<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "d90ca3d326c48fab2ac0ebd3a9876f59",
  "translation_date": "2025-07-13T19:56:09+00:00",
  "source_file": "03-GettingStarted/05-sse-server/README.md",
  "language_code": "th"
}
-->
ตอนนี้ที่เราเข้าใจเกี่ยวกับ SSE มากขึ้นแล้ว มาสร้างเซิร์ฟเวอร์ SSE กันต่อเลย

## แบบฝึกหัด: การสร้างเซิร์ฟเวอร์ SSE

ในการสร้างเซิร์ฟเวอร์ของเรา เราต้องคำนึงถึงสองสิ่ง:

- เราต้องใช้เว็บเซิร์ฟเวอร์เพื่อเปิดเผย endpoints สำหรับการเชื่อมต่อและข้อความ
- สร้างเซิร์ฟเวอร์ของเราเหมือนกับที่เราทำกับเครื่องมือ ทรัพยากร และพรอมต์เมื่อเราใช้ stdio

### -1- สร้างอินสแตนซ์เซิร์ฟเวอร์

ในการสร้างเซิร์ฟเวอร์ เราใช้ประเภทเดียวกับ stdio แต่สำหรับการขนส่ง เราต้องเลือก SSE

---

ต่อไปเรามาเพิ่มเส้นทางที่จำเป็นกัน

### -2- เพิ่มเส้นทาง

เพิ่มเส้นทางที่จัดการการเชื่อมต่อและข้อความที่เข้ามา:

---

ต่อไปเรามาเพิ่มความสามารถให้กับเซิร์ฟเวอร์กัน

### -3- การเพิ่มความสามารถให้เซิร์ฟเวอร์

ตอนนี้ที่เรากำหนดทุกอย่างที่เกี่ยวกับ SSE แล้ว มาลองเพิ่มความสามารถของเซิร์ฟเวอร์ เช่น เครื่องมือ พรอมต์ และทรัพยากรกัน

---

โค้ดทั้งหมดของคุณควรจะเป็นแบบนี้:

---

เยี่ยมเลย เรามีเซิร์ฟเวอร์ที่ใช้ SSE แล้ว มาลองใช้งานกันต่อ

## แบบฝึกหัด: การดีบักเซิร์ฟเวอร์ SSE ด้วย Inspector

Inspector เป็นเครื่องมือที่ยอดเยี่ยมที่เราเห็นในบทเรียนก่อนหน้า [Creating your first server](/03-GettingStarted/01-first-server/README.md) มาดูกันว่าเราจะใช้ Inspector ที่นี่ได้ไหม:

### -1- การรัน Inspector

ก่อนจะรัน Inspector คุณต้องมีเซิร์ฟเวอร์ SSE ที่กำลังทำงานอยู่ก่อน ดังนั้นมาทำกันเลย:

1. รันเซิร์ฟเวอร์

---

1. รัน Inspector

    > ![NOTE]
    > รันคำสั่งนี้ในหน้าต่างเทอร์มินัลแยกต่างหากจากที่เซิร์ฟเวอร์กำลังรันอยู่ และอย่าลืมปรับคำสั่งด้านล่างให้ตรงกับ URL ที่เซิร์ฟเวอร์ของคุณกำลังรัน

    ```sh
    npx @modelcontextprotocol/inspector --cli http://localhost:8000/sse --method tools/list
    ```

    การรัน Inspector จะเหมือนกันในทุก runtime สังเกตว่าคุณไม่ได้ส่งพาธไปยังเซิร์ฟเวอร์หรือคำสั่งเริ่มเซิร์ฟเวอร์ แต่ส่ง URL ที่เซิร์ฟเวอร์กำลังรันอยู่และระบุเส้นทาง `/sse`

### -2- ทดลองใช้เครื่องมือ

เชื่อมต่อกับเซิร์ฟเวอร์โดยเลือก SSE ในรายการดรอปดาวน์และกรอก URL ที่เซิร์ฟเวอร์ของคุณกำลังรัน เช่น http:localhost:4321/sse จากนั้นคลิกปุ่ม "Connect" เหมือนเดิม เลือกรายการเครื่องมือ เลือกเครื่องมือ และป้อนค่าข้อมูล คุณจะเห็นผลลัพธ์ดังภาพด้านล่าง:

![SSE Server running in inspector](../../../../translated_images/sse-inspector.d86628cc597b8fae807a31d3d6837842f5f9ee1bcc6101013fa0c709c96029ad.th.png)

เยี่ยมเลย คุณสามารถใช้งาน Inspector ได้ มาดูกันต่อว่าเราจะใช้งานกับ Visual Studio Code ได้อย่างไร

## การบ้าน

ลองสร้างเซิร์ฟเวอร์ของคุณให้มีความสามารถมากขึ้น ดูที่ [หน้านี้](https://api.chucknorris.io/) เพื่อเพิ่มเครื่องมือที่เรียกใช้ API ตัวอย่าง คุณเป็นคนตัดสินใจว่าเซิร์ฟเวอร์ควรเป็นอย่างไร ขอให้สนุก :)

## ตัวอย่างคำตอบ

[คำตอบ](./solution/README.md) นี่คือตัวอย่างคำตอบที่มีโค้ดทำงานได้

## สิ่งสำคัญที่ควรจดจำ

สิ่งสำคัญที่ควรจดจำจากบทนี้คือ:

- SSE เป็นการขนส่งที่รองรับเป็นอันดับสองถัดจาก stdio
- เพื่อรองรับ SSE คุณต้องจัดการการเชื่อมต่อและข้อความที่เข้ามาโดยใช้เว็บเฟรมเวิร์ก
- คุณสามารถใช้ทั้ง Inspector และ Visual Studio Code เพื่อใช้งานเซิร์ฟเวอร์ SSE เหมือนกับเซิร์ฟเวอร์ stdio สังเกตว่ามีความแตกต่างเล็กน้อยระหว่าง stdio และ SSE สำหรับ SSE คุณต้องเริ่มเซิร์ฟเวอร์แยกต่างหากก่อนแล้วจึงรันเครื่องมือ Inspector สำหรับ Inspector ยังมีความแตกต่างตรงที่คุณต้องระบุ URL ด้วย

## ตัวอย่าง

- [Java Calculator](../samples/java/calculator/README.md)
- [.Net Calculator](../../../../03-GettingStarted/samples/csharp)
- [JavaScript Calculator](../samples/javascript/README.md)
- [TypeScript Calculator](../samples/typescript/README.md)
- [Python Calculator](../../../../03-GettingStarted/samples/python)

## แหล่งข้อมูลเพิ่มเติม

- [SSE](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)

## ต่อไป

- ต่อไป: [HTTP Streaming with MCP (Streamable HTTP)](../06-http-streaming/README.md)

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษาอัตโนมัติ [Co-op Translator](https://github.com/Azure/co-op-translator) แม้เราจะพยายามให้ความถูกต้องสูงสุด แต่โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่ถูกต้อง เอกสารต้นฉบับในภาษาต้นทางถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่สำคัญ ขอแนะนำให้ใช้บริการแปลโดยผู้เชี่ยวชาญมนุษย์ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความผิดใด ๆ ที่เกิดจากการใช้การแปลนี้