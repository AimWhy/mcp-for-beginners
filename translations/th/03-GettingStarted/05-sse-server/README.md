<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "3dd2f1e39277c31b0e57e29d165354d6",
  "translation_date": "2025-06-12T23:56:48+00:00",
  "source_file": "03-GettingStarted/05-sse-server/README.md",
  "language_code": "th"
}
-->
ตอนนี้ที่เราเข้าใจเกี่ยวกับ SSE มากขึ้นแล้ว มาสร้างเซิร์ฟเวอร์ SSE กันต่อเลย

## แบบฝึกหัด: การสร้างเซิร์ฟเวอร์ SSE

ในการสร้างเซิร์ฟเวอร์ เราต้องจำสองสิ่งนี้ไว้:

- เราต้องใช้เว็บเซิร์ฟเวอร์เพื่อเปิดเผย endpoints สำหรับการเชื่อมต่อและข้อความ
- สร้างเซิร์ฟเวอร์ของเราเหมือนที่เคยทำกับเครื่องมือ, ทรัพยากร และ prompts ตอนที่ใช้ stdio

### -1- สร้างอินสแตนซ์เซิร์ฟเวอร์

ในการสร้างเซิร์ฟเวอร์ เราใช้ประเภทเดียวกับ stdio แต่สำหรับการขนส่งข้อมูล เราต้องเลือก SSE

---

ต่อไปเรามาเพิ่มเส้นทางที่จำเป็นกัน

### -2- เพิ่มเส้นทาง

เพิ่มเส้นทางที่จัดการกับการเชื่อมต่อและข้อความที่เข้ามา:

---

ต่อไปเรามาเพิ่มความสามารถให้เซิร์ฟเวอร์กัน

### -3- การเพิ่มความสามารถให้เซิร์ฟเวอร์

ตอนนี้ที่เรากำหนดสิ่งที่เกี่ยวข้องกับ SSE แล้ว มาลองเพิ่มความสามารถของเซิร์ฟเวอร์ เช่น เครื่องมือ, prompts และทรัพยากรกัน

---

โค้ดทั้งหมดของคุณควรจะเป็นแบบนี้:

---

เยี่ยมเลย เรามีเซิร์ฟเวอร์ที่ใช้ SSE แล้ว มาลองใช้งานกันต่อเลย

## แบบฝึกหัด: การดีบักเซิร์ฟเวอร์ SSE ด้วย Inspector

Inspector เป็นเครื่องมือที่ดีที่เราเคยเห็นในบทเรียนก่อนหน้า [Creating your first server](/03-GettingStarted/01-first-server/README.md) มาดูกันว่าเราสามารถใช้ Inspector ที่นี่ได้ไหม:

### -1- การรัน Inspector

ก่อนรัน Inspector คุณต้องมีเซิร์ฟเวอร์ SSE ที่กำลังทำงานอยู่ก่อน มาลองทำกันเลย:

1. รันเซิร์ฟเวอร์

---

1. รัน Inspector

    > ![NOTE]
    > รันคำสั่งนี้ในหน้าต่างเทอร์มินัลแยกต่างหากจากที่รันเซิร์ฟเวอร์ และอย่าลืมปรับคำสั่งด้านล่างให้ตรงกับ URL ที่เซิร์ฟเวอร์ของคุณกำลังทำงานอยู่

    ```sh
    npx @modelcontextprotocol/inspector --cli http://localhost:8000/sse --method tools/list
    ```

    การรัน Inspector ดูเหมือนกันในทุก runtime สังเกตว่าคราวนี้แทนที่จะส่งพาธไปยังเซิร์ฟเวอร์และคำสั่งเริ่มเซิร์ฟเวอร์ เราจะส่ง URL ที่เซิร์ฟเวอร์กำลังทำงานอยู่และระบุเส้นทาง `/sse`

### -2- ทดลองใช้เครื่องมือ

เชื่อมต่อกับเซิร์ฟเวอร์โดยเลือก SSE จากรายการดรอปดาวน์และกรอก URL ที่เซิร์ฟเวอร์ของคุณทำงาน เช่น http:localhost:4321/sse จากนั้นคลิกปุ่ม "Connect" เหมือนเดิม เลือกแสดงรายการเครื่องมือ เลือกเครื่องมือ และป้อนค่าข้อมูล คุณจะเห็นผลลัพธ์แบบนี้:

![SSE Server running in inspector](../../../../translated_images/sse-inspector.d86628cc597b8fae807a31d3d6837842f5f9ee1bcc6101013fa0c709c96029ad.th.png)

เยี่ยมเลย คุณสามารถใช้งาน Inspector ได้ มาดูกันว่าทำงานกับ Visual Studio Code อย่างไรต่อ

## งานที่มอบหมาย

ลองสร้างเซิร์ฟเวอร์ของคุณให้มีความสามารถมากขึ้น ดู [หน้านี้](https://api.chucknorris.io/) เพื่อเพิ่มเครื่องมือที่เรียกใช้ API คุณเป็นคนกำหนดว่าเซิร์ฟเวอร์ควรหน้าตาเป็นอย่างไร สนุกกับการทำ :)

## แนวทางแก้ไข

[Solution](./solution/README.md) นี่คือตัวอย่างแนวทางแก้ไขพร้อมโค้ดที่ใช้งานได้จริง

## สิ่งสำคัญที่ควรจดจำ

สิ่งที่ควรจดจำจากบทนี้คือ:

- SSE เป็นวิธีขนส่งข้อมูลที่สองรองจาก stdio
- เพื่อรองรับ SSE คุณต้องจัดการกับการเชื่อมต่อและข้อความที่เข้ามาโดยใช้เว็บเฟรมเวิร์ก
- คุณสามารถใช้ทั้ง Inspector และ Visual Studio Code เพื่อใช้งานเซิร์ฟเวอร์ SSE ได้เหมือนกับเซิร์ฟเวอร์ stdio สังเกตความแตกต่างเล็กน้อยระหว่าง stdio กับ SSE สำหรับ SSE คุณต้องเริ่มเซิร์ฟเวอร์แยกต่างหากก่อน แล้วจึงรันเครื่องมือ Inspector สำหรับ Inspector ก็มีความแตกต่างตรงที่ต้องระบุ URL ด้วย

## ตัวอย่าง

- [Java Calculator](../samples/java/calculator/README.md)
- [.Net Calculator](../../../../03-GettingStarted/samples/csharp)
- [JavaScript Calculator](../../../../03-GettingStarted/samples/javascript)
- [TypeScript Calculator](../../../../03-GettingStarted/samples/typescript)
- [Python Calculator](../../../../03-GettingStarted/samples/python)

## แหล่งข้อมูลเพิ่มเติม

- [SSE](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)

## ต่อไปคืออะไร

- ถัดไป: [HTTP Streaming with MCP (Streamable HTTP)](/03-GettingStarted/06-http-streaming/README.md)

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารนี้ได้รับการแปลโดยใช้บริการแปลภาษา AI [Co-op Translator](https://github.com/Azure/co-op-translator) แม้เราจะพยายามให้ความถูกต้องสูงสุด แต่โปรดทราบว่าการแปลอัตโนมัติอาจมีข้อผิดพลาดหรือความคลาดเคลื่อน เอกสารต้นฉบับในภาษาต้นทางถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่สำคัญ ขอแนะนำให้ใช้บริการแปลโดยผู้เชี่ยวชาญด้านมนุษย์ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความที่ผิดพลาดใด ๆ ที่เกิดขึ้นจากการใช้การแปลนี้