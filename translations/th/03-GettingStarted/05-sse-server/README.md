<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "64645691bf0985f1760b948123edf269",
  "translation_date": "2025-06-13T10:50:59+00:00",
  "source_file": "03-GettingStarted/05-sse-server/README.md",
  "language_code": "th"
}
-->
ตอนนี้ที่เราเข้าใจเกี่ยวกับ SSE มากขึ้นแล้ว มาสร้างเซิร์ฟเวอร์ SSE กันต่อเลย

## แบบฝึกหัด: การสร้าง SSE Server

ในการสร้างเซิร์ฟเวอร์ เราต้องคำนึงถึงสองสิ่งนี้:

- เราต้องใช้เว็บเซิร์ฟเวอร์เพื่อเปิดเผย endpoints สำหรับการเชื่อมต่อและข้อความ
- สร้างเซิร์ฟเวอร์ของเราเหมือนกับที่ทำกับเครื่องมือ ทรัพยากร และ prompt เมื่อเราใช้ stdio

### -1- สร้างอินสแตนซ์เซิร์ฟเวอร์

ในการสร้างเซิร์ฟเวอร์ เราใช้ประเภทเดียวกับ stdio แต่สำหรับการขนส่ง เราต้องเลือก SSE

---

มาต่อด้วยการเพิ่มเส้นทางที่จำเป็นกัน

### -2- เพิ่มเส้นทาง

เพิ่มเส้นทางที่จัดการการเชื่อมต่อและข้อความที่เข้ามา: 

---

ต่อไปเพิ่มความสามารถให้กับเซิร์ฟเวอร์

### -3- การเพิ่มความสามารถของเซิร์ฟเวอร์

ตอนนี้ที่เราได้กำหนดสิ่งที่เฉพาะเจาะจงกับ SSE แล้ว มาลองเพิ่มความสามารถของเซิร์ฟเวอร์ เช่น เครื่องมือ prompt และทรัพยากรกัน

---

โค้ดทั้งหมดของคุณควรจะเป็นแบบนี้:

---

เยี่ยมเลย เรามีเซิร์ฟเวอร์ที่ใช้ SSE แล้ว มาลองใช้งานกันต่อ

## แบบฝึกหัด: การดีบัก SSE Server ด้วย Inspector

Inspector เป็นเครื่องมือที่ดีที่เราเห็นในบทเรียนก่อนหน้า [Creating your first server](/03-GettingStarted/01-first-server/README.md) ลองดูว่าเราสามารถใช้ Inspector ที่นี่ได้ไหม:

### -1- การรัน Inspector

ก่อนจะรัน Inspector คุณต้องมีเซิร์ฟเวอร์ SSE ที่กำลังทำงานอยู่ ดังนั้นมาทำกันเลย:

1. รันเซิร์ฟเวอร์

---

1. รัน Inspector

    > ![NOTE]
    > ให้รันคำสั่งนี้ในหน้าต่างเทอร์มินัลแยกจากที่รันเซิร์ฟเวอร์อยู่ และอย่าลืมปรับคำสั่งด้านล่างให้ตรงกับ URL ที่เซิร์ฟเวอร์ของคุณกำลังรันอยู่ด้วย

    ```sh
    npx @modelcontextprotocol/inspector --cli http://localhost:8000/sse --method tools/list
    ```

    การรัน Inspector เหมือนกันในทุก runtime สังเกตว่าแทนที่จะส่งพาธไปยังเซิร์ฟเวอร์และคำสั่งเริ่มเซิร์ฟเวอร์ เราจะส่ง URL ที่เซิร์ฟเวอร์กำลังรันอยู่และระบุเส้นทาง `/sse`

### -2- ทดลองใช้เครื่องมือ

เชื่อมต่อเซิร์ฟเวอร์โดยเลือก SSE จากเมนูดรอปดาวน์ แล้วกรอก URL ที่เซิร์ฟเวอร์ของคุณกำลังรัน เช่น http:localhost:4321/sse จากนั้นกดปุ่ม "Connect" เหมือนเดิม เลือกรายการเครื่องมือ เลือกเครื่องมือ และใส่ค่าข้อมูลเข้า คุณจะเห็นผลลัพธ์ดังภาพด้านล่าง:

![SSE Server running in inspector](../../../../translated_images/sse-inspector.d86628cc597b8fae807a31d3d6837842f5f9ee1bcc6101013fa0c709c96029ad.th.png)

ดีมาก คุณสามารถใช้งาน Inspector ได้แล้ว ต่อไปมาดูวิธีใช้งานกับ Visual Studio Code กัน

## งานที่ได้รับมอบหมาย

ลองสร้างเซิร์ฟเวอร์ของคุณให้มีความสามารถมากขึ้น ดูที่ [หน้านี้](https://api.chucknorris.io/) เพื่อเพิ่มเครื่องมือที่เรียก API ตัวอย่างเช่น คุณตัดสินใจได้ว่าเซิร์ฟเวอร์ควรมีลักษณะอย่างไร สนุกกับการทำงาน :)

## ตัวอย่างคำตอบ

[Solution](./solution/README.md) นี่คือตัวอย่างคำตอบที่มีโค้ดทำงานได้จริง

## ข้อคิดสำคัญ

ข้อคิดสำคัญจากบทนี้คือ:

- SSE เป็นประเภทการขนส่งที่สองที่รองรับถัดจาก stdio
- ในการรองรับ SSE คุณต้องจัดการการเชื่อมต่อและข้อความที่เข้ามาโดยใช้เว็บเฟรมเวิร์ก
- คุณสามารถใช้ทั้ง Inspector และ Visual Studio Code เพื่อใช้งานเซิร์ฟเวอร์ SSE เหมือนกับเซิร์ฟเวอร์ stdio สังเกตว่ามีความแตกต่างเล็กน้อยระหว่าง stdio และ SSE สำหรับ SSE คุณต้องเริ่มเซิร์ฟเวอร์แยกต่างหากก่อน แล้วจึงรันเครื่องมือ Inspector สำหรับ Inspector ยังมีความแตกต่างตรงที่คุณต้องระบุ URL

## ตัวอย่าง

- [Java Calculator](../samples/java/calculator/README.md)
- [.Net Calculator](../../../../03-GettingStarted/samples/csharp)
- [JavaScript Calculator](../../../../03-GettingStarted/samples/javascript)
- [TypeScript Calculator](../../../../03-GettingStarted/samples/typescript)
- [Python Calculator](../../../../03-GettingStarted/samples/python)

## แหล่งข้อมูลเพิ่มเติม

- [SSE](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)

## ต่อไป

- ต่อไป: [HTTP Streaming with MCP (Streamable HTTP)](/03-GettingStarted/06-http-streaming/README.md)

**ข้อจำกัดความรับผิดชอบ**:  
เอกสารฉบับนี้ได้รับการแปลโดยใช้บริการแปลภาษาอัตโนมัติ [Co-op Translator](https://github.com/Azure/co-op-translator) แม้เราจะพยายามให้มีความถูกต้องสูงสุด แต่โปรดทราบว่าการแปลโดยอัตโนมัติอาจมีข้อผิดพลาดหรือความไม่ถูกต้อง เอกสารต้นฉบับในภาษาต้นทางถือเป็นแหล่งข้อมูลที่เชื่อถือได้ สำหรับข้อมูลที่มีความสำคัญ ควรใช้การแปลโดยผู้เชี่ยวชาญมนุษย์ เราไม่รับผิดชอบต่อความเข้าใจผิดหรือการตีความที่ผิดพลาดที่เกิดจากการใช้การแปลฉบับนี้